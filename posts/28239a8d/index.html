<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="面向对象 !-&gt; 面向过程 新增字段 收支类别，需要新增枚举类 创建的时候加上用户id是为了区分可能存在的业务员 新增的返回的字段的信息需要修改完善 1evidence_order_checked_person_num  1011bug OK 0本公司 6 客户 2 合作供货商  3 承运商 4 厂家界面  发票记录表  类别 进项 销项 tinyint 发票图片 varchar 采购主体">
<meta property="og:type" content="article">
<meta property="og:title" content="面向对象">
<meta property="og:url" content="https://www.cnblogs.com/nanstar/posts/28239a8d/index.html">
<meta property="og:site_name" content="Mdb">
<meta property="og:description" content="面向对象 !-&gt; 面向过程 新增字段 收支类别，需要新增枚举类 创建的时候加上用户id是为了区分可能存在的业务员 新增的返回的字段的信息需要修改完善 1evidence_order_checked_person_num  1011bug OK 0本公司 6 客户 2 合作供货商  3 承运商 4 厂家界面  发票记录表  类别 进项 销项 tinyint 发票图片 varchar 采购主体">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-11-17T06:59:27.369Z">
<meta property="article:modified_time" content="2021-11-17T06:59:27.369Z">
<meta property="article:author" content="MoDianBai">
<meta name="twitter:card" content="summary">
    
    
        
          
              <link rel="shortcut icon" href="/nanstar/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/nanstar/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/nanstar/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>面向对象</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/nanstar/css/style.css">

    <!-- rss -->
    
    
      <link rel="alternate" href="/nanstar/true" title="Mdb" type="application/atom+xml" />
    
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/nanstar/">主页</a></li>
         
          <li><a href="/nanstar/about/">关于</a></li>
         
          <li><a href="/nanstar/archives/">文章</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://gitee.com/nanstar">项目</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/nanstar/posts/6fce804f/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li>
        
        
        <li><a class="icon" href="/nanstar/posts/174a2819/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://www.cnblogs.com/nanstar/posts/28239a8d/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://www.cnblogs.com/nanstar/posts/28239a8d/&text=面向对象"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://www.cnblogs.com/nanstar/posts/28239a8d/&title=面向对象"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.cnblogs.com/nanstar/posts/28239a8d/&is_video=false&description=面向对象"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=面向对象&body=Check out this article: https://www.cnblogs.com/nanstar/posts/28239a8d/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://www.cnblogs.com/nanstar/posts/28239a8d/&title=面向对象"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://www.cnblogs.com/nanstar/posts/28239a8d/&title=面向对象"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://www.cnblogs.com/nanstar/posts/28239a8d/&title=面向对象"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://www.cnblogs.com/nanstar/posts/28239a8d/&title=面向对象"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://www.cnblogs.com/nanstar/posts/28239a8d/&name=面向对象&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9C%80%E8%A6%81%E5%86%99%E7%9A%84%E6%8E%A5%E5%8F%A3%E9%83%A8%E5%88%86"><span class="toc-number">1.</span> <span class="toc-text">需要写的接口部分</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Temp"><span class="toc-number"></span> <span class="toc-text">Temp</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">0.1.</span> <span class="toc-text">注意事项</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A%E5%88%97%E8%A1%A8"><span class="toc-number">0.2.</span> <span class="toc-text">作业列表</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E5%8F%91%E7%A5%A8%E6%8A%AC%E5%A4%B4%E5%88%A0%E9%99%A4%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E9%9C%80%E8%A6%81%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%9C%A8%E5%8F%91%E7%A5%A8%E5%88%97%E8%A1%A8%E4%B8%AD%E8%A2%AB%E4%BD%BF%E7%94%A8%EF%BC%8C%E8%A2%AB%E4%BD%BF%E7%94%A8%E4%BA%86%E7%9A%84%E8%AF%9D%EF%BC%8C%E5%B0%B1%E5%B8%83%E4%B8%8D%E5%8F%AF%E4%BB%A5%E6%89%A7%E8%A1%8C%E5%88%A0%E9%99%A4%E6%93%8D%E4%BD%9C-v"><span class="toc-number">0.2.1.</span> <span class="toc-text">1、发票抬头删除的时候，需要判断是否在发票列表中被使用，被使用了的话，就布不可以执行删除操作   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E5%8F%91%E7%A5%A8%E6%8A%AC%E5%A4%B4%E9%9C%80%E8%A6%81%E8%AE%A1%E7%AE%97%E8%A1%8C%E5%86%85%E5%8F%91%E7%A5%A8%E9%87%91%E9%A2%9D%EF%BC%8C%E5%92%8C%E6%80%BB%E9%87%91%E9%A2%9D-%E5%8F%91%E7%A5%A8%E8%AE%B0%E5%BD%95%E8%A1%A8%E9%87%8C%E9%9D%A2%E7%9A%84-v"><span class="toc-number">0.2.2.</span> <span class="toc-text">2、发票抬头需要计算行内发票金额，和总金额 发票记录表里面的   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%E3%80%81%E6%9C%AC%E6%9C%BA%E6%9E%84%E5%8F%91%E7%A5%A8%E5%8F%B7%E7%A0%81%E4%B8%8D%E5%8F%AF%E4%BB%A5%E9%87%8D%E5%A4%8D-v"><span class="toc-number">0.2.3.</span> <span class="toc-text">3、本机构发票号码不可以重复   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4%E3%80%81%E5%8F%91%E7%A5%A8%E5%8F%B7%E7%A0%81%E3%80%81%E5%AE%A1%E6%A0%B8%E6%97%B6%E9%97%B4%E4%BD%9C%E4%B8%BA%E6%9F%A5%E8%AF%A2%E5%85%A5%E5%8F%82-v"><span class="toc-number">0.2.4.</span> <span class="toc-text">4、发票号码、审核时间作为查询入参   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5%E3%80%81%E7%99%BB%E8%AE%B0%E7%9A%84%E6%97%B6%E5%80%99%E5%8F%91%E7%A5%A8%E4%BB%A3%E5%BC%80%E6%8E%A5%E5%8F%A3%EF%BC%88%E6%8A%8A%E5%87%A0%E4%B8%AA%E4%B8%9C%E8%A5%BF%E4%BD%9C%E4%B8%BA%E6%9D%A1%E4%BB%B6%EF%BC%8C%E6%9F%A5%E8%AF%A2%E8%A1%A8%E4%B8%AD%E6%95%B0%E6%8D%AE%EF%BC%89evidence-finance-summary"><span class="toc-number">0.2.5.</span> <span class="toc-text">5、登记的时候发票代开接口（把几个东西作为条件，查询表中数据）evidence_finance_summary</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#6%E3%80%81%E5%8F%91%E7%A5%A8%E8%AF%A6%E6%83%85%E7%BC%BA%E5%B0%91%E5%AD%97%E6%AE%B5-%EF%BC%8C%E4%BE%9B%E8%B4%A7%E5%95%86%E5%AE%B6%EF%BC%8C%E9%A1%B9%E7%9B%AE%E5%90%8D%E7%A7%B0%EF%BC%8C%E4%BA%A7%E5%93%81%E5%90%8D%E7%A7%B0%EF%BC%8C%E7%A8%8E%E5%8F%B7%EF%BC%8C%E5%8D%95%E4%BD%8D%E5%9C%B0%E5%9D%80%E4%B8%80%E7%B1%BB%E5%AD%97%E6%AE%B5%E6%B2%A1%E6%9C%89%E8%BF%94%E5%9B%9E%EF%BC%88%E5%8D%95%E4%BD%8D%E5%9C%B0%E5%9D%80-%E5%8F%B7%E7%A0%81-%E5%BC%80%E6%88%B7%E9%93%B6%E8%A1%8C%E9%93%B6%E8%A1%8C%E8%B4%A6%E5%8F%B7%EF%BC%8C%E9%83%BD%E5%9C%A8invoice-title%E8%A1%A8%E9%87%8C%E9%9D%A2%EF%BC%89-v"><span class="toc-number">0.2.6.</span> <span class="toc-text">6、发票详情缺少字段 ，供货商家，项目名称，产品名称，税号，单位地址一类字段没有返回（单位地址 号码 开户银行银行账号，都在invoice_title表里面）   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#7%E3%80%81%E6%B2%A1%E6%9C%89%E4%BA%A7%E7%94%9F%E8%BF%87%E8%AE%B0%E5%BD%95%E7%9A%84%E5%8F%AF%E4%BB%A5%E5%88%A0%E9%99%A4%EF%BC%8C%E6%B2%A1%E6%9C%89%E4%BA%A7%E7%94%9F%E7%9A%84%E4%B8%8D%E5%8F%AF%E4%BB%A5%E5%88%A0%E9%99%A4%EF%BC%8C%E5%9C%A8%E5%8F%91%E7%A5%A8%E6%8A%AC%E5%A4%B4%E7%9A%84%E8%AF%A6%E6%83%85%E7%9A%84%E6%97%B6%E5%80%99%E7%BB%99%E8%BF%94%E5%9B%9E%E8%BF%99%E4%B8%AA%E5%AD%97%E6%AE%B5-v"><span class="toc-number">0.2.7.</span> <span class="toc-text">7、没有产生过记录的可以删除，没有产生的不可以删除，在发票抬头的详情的时候给返回这个字段   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#8%E3%80%81%E8%AE%A2%E5%8D%95%E5%88%97%E8%A1%A8%E6%95%B0%E6%8D%AE%E5%AF%B9%E4%B8%8D%E4%B8%8A%E5%8F%B7%EF%BC%8C%E5%8D%B8%E8%B4%A7%E5%88%97%E8%A1%A8%E6%9C%89%E6%95%B0%E6%8D%AE%EF%BC%8C%E4%BD%86%E6%98%AF%E8%AE%A2%E5%8D%95%E5%88%97%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%8D%B4%E6%98%AF%E7%A9%BA%E7%9A%84-v"><span class="toc-number">0.2.8.</span> <span class="toc-text">8、订单列表数据对不上号，卸货列表有数据，但是订单列表的数据却是空的     *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#9%E3%80%81%E7%BB%99%E5%8F%91%E7%A5%A8%E4%BB%A3%E5%BC%80%E9%87%91%E9%A2%9D%E5%86%99%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3-v"><span class="toc-number">0.2.9.</span> <span class="toc-text">9、给发票代开金额写一个接口文档   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#10%E3%80%81%E5%8F%91%E7%A5%A8%E7%99%BB%E8%AE%B0%E6%96%B0%E5%A2%9E%E4%B8%80%E4%B8%AA%E5%BC%80%E7%A5%A8%E6%97%B6%E9%97%B4-v"><span class="toc-number">0.2.10.</span> <span class="toc-text">10、发票登记新增一个开票时间   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#11%E3%80%81%E9%A1%B9%E7%9B%AE%E8%AF%A6%E6%83%85%E9%87%8C%E7%9A%84%E8%AE%A2%E5%8D%95%E5%88%97%E8%A1%A8%E5%92%8C%E5%8D%B8%E8%B4%A7%E5%88%97%E8%A1%A8%E9%9C%80%E8%A6%81%E6%8A%8A%E4%BB%8A%E6%97%A5%E5%92%8C%E8%BF%9B%E4%B8%89%E6%97%A5%E7%9A%84%E6%97%B6%E9%97%B4%E6%88%B3%E4%BC%A0%E8%BF%87%E6%9D%A5%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E8%87%AA%E5%B7%B1%E5%86%99%E6%AD%BB-v"><span class="toc-number">0.2.11.</span> <span class="toc-text">11、项目详情里的订单列表和卸货列表需要把今日和进三日的时间戳传过来，而不是自己写死   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#12%E3%80%81%E5%8F%91%E7%A5%A8%E7%B1%BB%E5%9E%8B%E5%A2%9E%E5%8A%A0%E5%88%A4%E6%96%AD%E9%80%BB%E8%BE%91-v"><span class="toc-number">0.2.12.</span> <span class="toc-text">12、发票类型增加判断逻辑    *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#13%E3%80%81-%E7%BD%AE%E5%AE%A1%E6%A0%B8%EF%BC%8C%E7%BD%AE%E5%8F%8D%E5%AE%A1-%EF%BC%88%E5%86%99%E5%A5%BD%E7%9A%84-%E6%8E%A5%E5%8F%A3%E9%9C%80%E8%A6%81%E6%B5%8B%E8%AF%95%EF%BC%89-v"><span class="toc-number">0.2.13.</span> <span class="toc-text">13、 置审核，置反审 （写好的 接口需要测试）  *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#14%E3%80%81%E5%8F%91%E7%A5%A8%E8%AF%A6%E6%83%85%EF%BC%8C%E5%92%8C%E5%88%97%E8%A1%A8%E9%9C%80%E8%A6%81%E6%96%B0%E5%A2%9E%E5%8A%A0%E8%BF%94%E5%9B%9E%E5%AD%97%E6%AE%B5-%E9%94%80%E9%A1%B9%E5%92%8C%E8%BF%9B%E9%A1%B9%E7%9A%84%E7%94%A8%E6%88%B7%E6%9C%BA%E6%9E%84%E5%92%8C%E7%94%A8%E6%88%B7id-v"><span class="toc-number">0.2.14.</span> <span class="toc-text">14、发票详情，和列表需要新增加返回字段 销项和进项的用户机构和用户id  *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#15%E3%80%81%E5%8F%91%E7%A5%A8%E6%80%BB%E9%87%91%E9%A2%9D-%E8%B4%B9%E7%94%A8%E6%80%BB%E9%87%91%E9%A2%9D%EF%BC%8C1v-2V-3-%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E9%9C%80%E8%A6%81%E5%9C%A8%E5%88%86%E9%A1%B5%E5%89%8D%E6%8B%BC%E4%B8%8A%E6%9F%A5%E8%AF%A2%E6%9D%A1%E4%BB%B6%EF%BC%8C%E7%84%B6%E5%90%8E%E8%AE%A1%E7%AE%97%E5%87%BA%E6%80%BB%E9%87%91%E9%A2%9D-n"><span class="toc-number">0.2.15.</span> <span class="toc-text">15、发票总金额,费用总金额，1v 2V 3 查询的时候，需要在分页前拼上查询条件，然后计算出总金额   *n*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#16%E3%80%81%E5%8F%91%E7%A5%A8%E8%AE%B0%E5%BD%95%EF%BC%8C%E6%9C%89%E4%B9%B0%E6%9C%89%E5%8D%96-v"><span class="toc-number">0.2.16.</span> <span class="toc-text">16、发票记录，有买有卖  *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#17%E3%80%81%E8%B4%B9%E7%94%A8%E8%AE%B0%E5%BD%95%E4%BF%AE%E6%94%B9%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8Cform%E5%AD%97%E6%AE%B5%E5%92%8Cxml%E5%AD%97%E6%AE%B5%E8%A6%81%E4%BF%9D%E6%8C%81%E4%B8%80%E8%87%B4-v"><span class="toc-number">0.2.17.</span> <span class="toc-text">17、费用记录修改的时候，form字段和xml字段要保持一致   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#18%E3%80%81%E5%8A%9E%E5%85%AC%E8%B4%B9%E7%94%A8%E5%AE%A1%E6%A0%B8%E6%8E%A5%E5%8F%A3%E5%AE%8C%E6%88%90%EF%BC%8C%E9%9C%80%E8%A6%81%E5%86%99%E4%B8%8A%E6%8E%A5%E5%8F%A3-v"><span class="toc-number">0.2.18.</span> <span class="toc-text">18、办公费用审核接口完成，需要写上接口   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#19%E3%80%81%E9%9C%80%E8%A6%81%E5%87%A0%E4%B8%AA%E4%BA%BA%E5%AE%A1%E6%A0%B8%E7%9A%84%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%87%BA%E4%B8%80%E4%B8%AA-v"><span class="toc-number">0.2.19.</span> <span class="toc-text">19、需要几个人审核的接口，出一个  *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#20%E3%80%81%E6%9F%A5%E8%AF%A2%E5%8F%91%E7%A5%A8%E6%8A%AC%E5%A4%B4%E5%88%97%E8%A1%A8%EF%BC%8C%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%90%9C%E7%B4%A2%E5%85%B3%E9%94%AE%E5%AD%97%EF%BC%8CsearchValue-%E5%8F%91%E7%A5%A8%E6%8A%AC%E5%A4%B4-%E7%A4%BE%E4%BC%9A%E4%BF%A1%E7%94%A8%E4%BB%A3%E7%A0%81-%E5%8D%95%E4%BD%8D%E5%9C%B0%E5%9D%80-%E7%94%B5%E8%AF%9D%E5%8F%B7%E7%A0%81-%E5%BC%80%E6%88%B7%E9%93%B6%E8%A1%8C%E5%90%8D%E7%A7%B0-%E9%93%B6%E8%A1%8C%E8%B4%A6%E5%8F%B7-%E5%88%9B%E5%BB%BA%E6%97%B6%E9%97%B4-%E5%A4%87%E6%B3%A8-v"><span class="toc-number">0.2.20.</span> <span class="toc-text">20、查询发票抬头列表，小程序搜索关键字，searchValue 发票抬头 社会信用代码 单位地址 电话号码 开户银行名称 银行账号 创建时间  备注   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#21%E3%80%81%E5%8A%9E%E5%85%AC%E8%B4%B9%E7%94%A8%EF%BC%8C%E9%9C%80%E8%A6%81%E5%8A%A0%E4%B8%8A%E8%BF%94%E5%9B%9E%E5%AE%A1%E6%A0%B8%E4%BA%BA%E6%95%B0%E7%9A%84%E9%80%BB%E8%BE%91%EF%BC%8Cepio%E6%96%B0%E5%A2%9E%E7%AC%AC%E4%BA%8C%E7%AC%AC%E4%B8%89%E5%AE%A1%E6%A0%B8%E4%BA%BA-v"><span class="toc-number">0.2.21.</span> <span class="toc-text">21、办公费用，需要加上返回审核人数的逻辑，epio新增第二第三审核人    *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#22%E3%80%81%E6%8E%92%E6%9F%A5%E5%88%AA%E9%99%A4%E6%9B%B8%E5%AF%AB%E6%96%B9%E6%B3%95%E6%98%AF%E6%98%AF%E5%90%A6%E4%BD%BF%E7%94%A8%E4%BA%86%E5%88%9D%E5%A7%8B%E5%8C%96%E5%B0%8D%E8%B1%A1%E4%B9%8B%E5%BE%8C%E7%9A%84%E5%86%8D%E6%AC%A1%E6%9B%B4%E6%96%B0%E6%93%8D%E4%BD%9C%EF%BC%8C%E9%80%99%E5%80%8B%E6%9C%83%E8%AE%93%E9%BB%98%E8%AA%8D%E5%80%BC%E7%B5%A6%E9%87%8D%E7%BD%AE%E9%87%91%E9%A1%8D%E5%80%BC-n"><span class="toc-number">0.2.22.</span> <span class="toc-text">22、排查刪除書寫方法是是否使用了初始化對象之後的再次更新操作，這個會讓默認值給重置金額值    *n*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8E%BB%E5%AE%A1%E6%A0%B8%E4%BA%BA%E7%9A%84%E5%80%BC%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E6%98%AF%E7%94%A8%E6%88%B7%E8%A1%A8%E7%9A%84%E7%94%A8%E6%88%B7%E7%9A%84nickname-BUG-1210-1244"><span class="toc-number">0.2.23.</span> <span class="toc-text">去审核人的值的时候，是用户表的用户的nickname   BUG 1210 1244</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%9A%84%E5%AE%A1%E6%A0%B8%E4%BA%BA%E6%98%AF%E5%90%A6%E6%98%AFuser%E8%A1%A8%E7%9A%84nickname-%E6%A3%80%E6%9F%A5"><span class="toc-number">0.2.24.</span> <span class="toc-text">使用的审核人是否是user表的nickname 检查</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5%E9%83%A8%E5%88%86"><span class="toc-number">1.</span> <span class="toc-text">通知部分</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E8%AF%A6%E6%83%85%E5%8D%B8%E8%B4%A7%E4%BF%A1%E6%81%AF%E6%95%B0%E9%87%8F%E7%BB%9F%E8%AE%A1"><span class="toc-number">1.1.</span> <span class="toc-text">项目详情卸货信息数量统计</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%B8%E8%B4%A7%E4%BF%A1%E6%81%AF%E6%95%B0%E9%87%8F%E7%BB%9F%E8%AE%A1%E6%AF%94%E8%BE%83%E6%95%B0%E9%87%8F%E7%BB%9F%E8%AE%A1%E5%B0%91%E4%BA%86%E4%B8%80%E5%8D%8A"><span class="toc-number"></span> <span class="toc-text">卸货信息数量统计比较数量统计少了一半</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E9%87%8F%E7%BB%9F%E8%AE%A1%E5%8D%B8%E8%B4%A7%E5%88%97%E8%A1%A8"><span class="toc-number">0.1.</span> <span class="toc-text">数量统计卸货列表</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E5%8A%9F%E8%83%BD%E5%AF%B9%E7%85%A7%E8%A1%A8"><span class="toc-number"></span> <span class="toc-text">接口功能对照表</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%90%E8%BE%93%E5%85%AC%E5%8F%B8"><span class="toc-number">0.1.</span> <span class="toc-text">运输公司</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%B8%E6%9C%BA%E9%83%A8%E5%88%86"><span class="toc-number">0.2.</span> <span class="toc-text">司机部分</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A0%E5%A5%BD%E5%8F%8B%E9%83%A8%E5%88%86%E9%9C%80%E8%A6%81%E9%87%8D%E6%96%B0%E6%A0%B8%E5%AF%B9%E4%B8%8B%EF%BC%88%E5%9B%9B%E4%B8%AA%E7%AB%AF%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">加好友部分需要重新核对下（四个端）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98"><span class="toc-number"></span> <span class="toc-text">问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AE%E9%A2%98-1"><span class="toc-number"></span> <span class="toc-text">问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7-%E7%BB%99%E9%A1%B9%E7%9B%AE%E6%96%B0%E5%A2%9E%E4%BA%A7%E5%93%81%E7%9A%84%E6%97%B6%E5%80%99-%E5%93%81%E7%89%8C%E7%9A%84%E5%88%97%E5%87%BA%E6%95%88%E6%9E%9C"><span class="toc-number"></span> <span class="toc-text">客户 给项目新增产品的时候 品牌的列出效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8D%E7%A7%B0%E9%97%AE%E9%A2%98%E7%AC%94%E8%AE%B0"><span class="toc-number"></span> <span class="toc-text">名称问题笔记</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BUG"><span class="toc-number"></span> <span class="toc-text">BUG</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E5%8A%9E"><span class="toc-number"></span> <span class="toc-text">代办</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80"><span class="toc-number">0.1.</span> <span class="toc-text">地址</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF"><span class="toc-number">0.2.</span> <span class="toc-text">模板</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%A5%E4%BB%B7"><span class="toc-number">0.3.</span> <span class="toc-text">报价</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%A5%E4%BB%B7%E6%A8%A1%E6%9D%BF%E7%9B%B8%E5%85%B3%E6%8E%A5%E5%8F%A3%E4%BD%8D%E7%BD%AE"><span class="toc-number">0.4.</span> <span class="toc-text">报价模板相关接口位置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B0%E5%BB%BA%E7%94%B3%E8%AF%B7%E6%8E%A5%E5%8F%A3"><span class="toc-number">0.5.</span> <span class="toc-text">新建申请接口</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3"><span class="toc-number"></span> <span class="toc-text">接口</span></a>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        面向对象
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Mdb</span>
      </span>
      
    <div class="postdate">
        <time datetime="2021-11-17T06:59:27.369Z" itemprop="datePublished">2021-11-17</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>面向对象 !-&gt; 面向过程</p>
<p>新增字段 收支类别，需要新增枚举类</p>
<p><strong>创建的时候加上用户id是为了区分可能存在的业务员</strong></p>
<p>新增的返回的字段的信息需要修改完善</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">evidence_order_checked_person_num</span><br></pre></td></tr></table></figure>

<p>1011bug <strong>OK</strong></p>
<p>0本公司 6 客户 2 合作供货商  3 承运商 4 厂家界面 </p>
<p>发票记录表 </p>
<p>类别 进项 销项 tinyint</p>
<p>发票图片 varchar</p>
<p>采购主体 /销售主体 机构id</p>
<p>发票类型 产品票 运输票 一票制（查询）</p>
<p>项目 siteid</p>
<p>产品类型 产品类型id</p>
<p>抬头名称 invoice_id </p>
<p>发票类型 专票/普票</p>
<p>税率</p>
<p>备注</p>
<p>是否删除</p>
<p>是否审核通过</p>
<p>审核时间</p>
<p>审核人</p>
<p>创建时间</p>
<p>创建人</p>
<p>更新时间</p>
<p>更新人</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">安装本地的对比工具</span><br></pre></td></tr></table></figure>



<p>卸货列表查询的表，是这个</p>
<p>evidence_product</p>
<p>evidence_product_transport</p>
<p>1、 机构新增发票记录需要写个配置接口 v</p>
<p>2、 发票抬头字段修改，部分代码逻辑修改 v</p>
<p>3、 发票记录表新增逻辑新增</p>
<p>发票抬头修改的字段</p>
<p>新15  旧 14</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">invoiceAscriotion抬头归属 删</span><br></pre></td></tr></table></figure>

<p>新增org_type org_id</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">invoice_title_name</span> 修改为 title_name</span><br></pre></td></tr></table></figure>

<figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">invoice<span class="number">_</span>duty<span class="number">_n</span>umber 修改为 <span class="meta">license</span><span class="number">_n</span>o</span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">invoice_unit_address 修改为 <span class="selector-tag">address</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">invoice_tel修改为 tel</span><br></pre></td></tr></table></figure>

<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">invoice_bank_account</span> 修改为 bank_name</span><br></pre></td></tr></table></figure>

<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">invoice_bank_number</span> 修改为 bank_account</span><br></pre></td></tr></table></figure>

<p>create_user_id 新增</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">invoiceOrgId</span> 删除</span><br></pre></td></tr></table></figure>

<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">updateOrgId</span> 删除</span><br></pre></td></tr></table></figure>

<p>所属</p>
<h4 id="需要写的接口部分"><a href="#需要写的接口部分" class="headerlink" title="需要写的接口部分"></a>需要写的接口部分</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、办公费用审核接口</span><br><span class="line"><span class="number">2</span>、发票记录的增删改查接口</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、项目详情卸货列表显示数据正确，进去之后显示的列表对不上（少了两条（陈洋的账号））v</span><br><span class="line"><span class="number">4</span>、供货商详情里，显示的项目列表，需要查询的是订单表中已完成和进行中的订单条目 v</span><br></pre></td></tr></table></figure>

<p>供货商详情使用的接口  /evidence/transaction/listTransactionRecords</p>
<h3 id="Temp"><a href="#Temp" class="headerlink" title="Temp"></a>Temp</h3><pre><code>count( 0 ) AS carNum,
IFNULL( sum( ept.deliver_weight ), 0 ) AS deliverWeight,
IFNULL( ept.create_time, 0 ) AS create_time,
ept.update_user_id
</code></pre>
<h5 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h5><blockquote>
<p>1、字段命名，格式、含义</p>
</blockquote>
<blockquote>
<p>2、入参查询，作用范围、规则</p>
</blockquote>
<blockquote>
<p>3、字段类型，符合旧字段格式，不要类和数据库不一样、数据库字段也要一样</p>
</blockquote>
<h5 id="作业列表"><a href="#作业列表" class="headerlink" title="作业列表"></a>作业列表</h5><h6 id="1、发票抬头删除的时候，需要判断是否在发票列表中被使用，被使用了的话，就布不可以执行删除操作-v"><a href="#1、发票抬头删除的时候，需要判断是否在发票列表中被使用，被使用了的话，就布不可以执行删除操作-v" class="headerlink" title="1、发票抬头删除的时候，需要判断是否在发票列表中被使用，被使用了的话，就布不可以执行删除操作   *v*"></a>1、发票抬头删除的时候，需要判断是否在发票列表中被使用，被使用了的话，就布不可以执行删除操作  <code> *v*</code></h6><h6 id="2、发票抬头需要计算行内发票金额，和总金额-发票记录表里面的-v"><a href="#2、发票抬头需要计算行内发票金额，和总金额-发票记录表里面的-v" class="headerlink" title="2、发票抬头需要计算行内发票金额，和总金额 发票记录表里面的   *v*"></a>2、发票抬头需要计算行内发票金额，和总金额 发票记录表里面的  <code> *v*</code></h6><h6 id="3、本机构发票号码不可以重复-v"><a href="#3、本机构发票号码不可以重复-v" class="headerlink" title="3、本机构发票号码不可以重复   *v*"></a>3、本机构发票号码不可以重复  <code> *v*</code></h6><h6 id="4、发票号码、审核时间作为查询入参-v"><a href="#4、发票号码、审核时间作为查询入参-v" class="headerlink" title="4、发票号码、审核时间作为查询入参   *v*"></a>4、发票号码、审核时间作为查询入参  <code> *v*</code></h6><h6 id="5、登记的时候发票代开接口（把几个东西作为条件，查询表中数据）evidence-finance-summary"><a href="#5、登记的时候发票代开接口（把几个东西作为条件，查询表中数据）evidence-finance-summary" class="headerlink" title="5、登记的时候发票代开接口（把几个东西作为条件，查询表中数据）evidence_finance_summary"></a>5、登记的时候发票代开接口（把几个东西作为条件，查询表中数据）evidence_finance_summary</h6><h6 id="6、发票详情缺少字段-，供货商家，项目名称，产品名称，税号，单位地址一类字段没有返回（单位地址-号码-开户银行银行账号，都在invoice-title表里面）-v"><a href="#6、发票详情缺少字段-，供货商家，项目名称，产品名称，税号，单位地址一类字段没有返回（单位地址-号码-开户银行银行账号，都在invoice-title表里面）-v" class="headerlink" title="6、发票详情缺少字段 ，供货商家，项目名称，产品名称，税号，单位地址一类字段没有返回（单位地址 号码 开户银行银行账号，都在invoice_title表里面）   *v*"></a>6、发票详情缺少字段 ，供货商家，项目名称，产品名称，税号，单位地址一类字段没有返回（单位地址 号码 开户银行银行账号，都在invoice_title表里面）  <code> *v*</code></h6><h6 id="7、没有产生过记录的可以删除，没有产生的不可以删除，在发票抬头的详情的时候给返回这个字段-v"><a href="#7、没有产生过记录的可以删除，没有产生的不可以删除，在发票抬头的详情的时候给返回这个字段-v" class="headerlink" title="7、没有产生过记录的可以删除，没有产生的不可以删除，在发票抬头的详情的时候给返回这个字段   *v*"></a>7、没有产生过记录的可以删除，没有产生的不可以删除，在发票抬头的详情的时候给返回这个字段  <code> *v*</code></h6><h6 id="8、订单列表数据对不上号，卸货列表有数据，但是订单列表的数据却是空的-v"><a href="#8、订单列表数据对不上号，卸货列表有数据，但是订单列表的数据却是空的-v" class="headerlink" title="8、订单列表数据对不上号，卸货列表有数据，但是订单列表的数据却是空的     *v*"></a>8、订单列表数据对不上号，卸货列表有数据，但是订单列表的数据却是空的    <code> *v*</code></h6><blockquote>
<p>根据卸货列表的对比，确认问题出在哪里  <code> *v*</code></p>
</blockquote>
<h6 id="9、给发票代开金额写一个接口文档-v"><a href="#9、给发票代开金额写一个接口文档-v" class="headerlink" title="9、给发票代开金额写一个接口文档   *v*"></a>9、给发票代开金额写一个接口文档  <code> *v*</code></h6><h6 id="10、发票登记新增一个开票时间-v"><a href="#10、发票登记新增一个开票时间-v" class="headerlink" title="10、发票登记新增一个开票时间   *v*"></a>10、发票登记新增一个开票时间  <code> *v*</code></h6><h6 id="11、项目详情里的订单列表和卸货列表需要把今日和进三日的时间戳传过来，而不是自己写死-v"><a href="#11、项目详情里的订单列表和卸货列表需要把今日和进三日的时间戳传过来，而不是自己写死-v" class="headerlink" title="11、项目详情里的订单列表和卸货列表需要把今日和进三日的时间戳传过来，而不是自己写死   *v*"></a>11、项目详情里的订单列表和卸货列表需要把今日和进三日的时间戳传过来，而不是自己写死  <code> *v*</code></h6><h6 id="12、发票类型增加判断逻辑-v"><a href="#12、发票类型增加判断逻辑-v" class="headerlink" title="12、发票类型增加判断逻辑    *v*"></a>12、发票类型增加判断逻辑   <code> *v*</code></h6><hr>
<h6 id="13、-置审核，置反审-（写好的-接口需要测试）-v"><a href="#13、-置审核，置反审-（写好的-接口需要测试）-v" class="headerlink" title="13、 置审核，置反审 （写好的 接口需要测试）  *v*"></a>13、 置审核，置反审 （写好的 接口需要测试） <code> *v*</code></h6><h6 id="14、发票详情，和列表需要新增加返回字段-销项和进项的用户机构和用户id-v"><a href="#14、发票详情，和列表需要新增加返回字段-销项和进项的用户机构和用户id-v" class="headerlink" title="14、发票详情，和列表需要新增加返回字段 销项和进项的用户机构和用户id  *v*"></a>14、发票详情，和列表需要新增加返回字段 销项和进项的用户机构和用户id <code> *v*</code></h6><h6 id="15、发票总金额-费用总金额，1v-2V-3-查询的时候，需要在分页前拼上查询条件，然后计算出总金额-n"><a href="#15、发票总金额-费用总金额，1v-2V-3-查询的时候，需要在分页前拼上查询条件，然后计算出总金额-n" class="headerlink" title="15、发票总金额,费用总金额，1v 2V 3 查询的时候，需要在分页前拼上查询条件，然后计算出总金额   *n*"></a>15、发票总金额,费用总金额，1v 2V 3 查询的时候，需要在分页前拼上查询条件，然后计算出总金额  <code> *n*</code></h6><h6 id="16、发票记录，有买有卖-v"><a href="#16、发票记录，有买有卖-v" class="headerlink" title="16、发票记录，有买有卖  *v*"></a>16、发票记录，有买有卖 <code> *v*</code></h6><h6 id="17、费用记录修改的时候，form字段和xml字段要保持一致-v"><a href="#17、费用记录修改的时候，form字段和xml字段要保持一致-v" class="headerlink" title="17、费用记录修改的时候，form字段和xml字段要保持一致   *v*"></a>17、费用记录修改的时候，form字段和xml字段要保持一致  <code> *v*</code></h6><h6 id="18、办公费用审核接口完成，需要写上接口-v"><a href="#18、办公费用审核接口完成，需要写上接口-v" class="headerlink" title="18、办公费用审核接口完成，需要写上接口   *v*"></a>18、办公费用审核接口完成，需要写上接口  <code> *v*</code></h6><h6 id="19、需要几个人审核的接口，出一个-v"><a href="#19、需要几个人审核的接口，出一个-v" class="headerlink" title="19、需要几个人审核的接口，出一个  *v*"></a>19、需要几个人审核的接口，出一个 <code> *v*</code></h6><h6 id="20、查询发票抬头列表，小程序搜索关键字，searchValue-发票抬头-社会信用代码-单位地址-电话号码-开户银行名称-银行账号-创建时间-备注-v"><a href="#20、查询发票抬头列表，小程序搜索关键字，searchValue-发票抬头-社会信用代码-单位地址-电话号码-开户银行名称-银行账号-创建时间-备注-v" class="headerlink" title="20、查询发票抬头列表，小程序搜索关键字，searchValue 发票抬头 社会信用代码 单位地址 电话号码 开户银行名称 银行账号 创建时间  备注   *v*"></a>20、查询发票抬头列表，小程序搜索关键字，searchValue 发票抬头 社会信用代码 单位地址 电话号码 开户银行名称 银行账号 创建时间  备注  <code> *v*</code></h6><h6 id="21、办公费用，需要加上返回审核人数的逻辑，epio新增第二第三审核人-v"><a href="#21、办公费用，需要加上返回审核人数的逻辑，epio新增第二第三审核人-v" class="headerlink" title="21、办公费用，需要加上返回审核人数的逻辑，epio新增第二第三审核人    *v*"></a>21、办公费用，需要加上返回审核人数的逻辑，epio新增第二第三审核人   <code> *v*</code></h6><blockquote>
<p>办公和发票的第一审核人的备注限制不能为空取消掉了（第二第三没有动）</p>
</blockquote>
<hr>
<ul>
<li><input checked="" disabled="" type="checkbox"> 20210608</li>
</ul>
<h6 id="22、排查刪除書寫方法是是否使用了初始化對象之後的再次更新操作，這個會讓默認值給重置金額值-n"><a href="#22、排查刪除書寫方法是是否使用了初始化對象之後的再次更新操作，這個會讓默認值給重置金額值-n" class="headerlink" title="22、排查刪除書寫方法是是否使用了初始化對象之後的再次更新操作，這個會讓默認值給重置金額值    *n*"></a>22、排查刪除書寫方法是是否使用了初始化對象之後的再次更新操作，這個會讓默認值給重置金額值   <code> *n*</code></h6><p>办公费用 参数设置不正确 新增</p>
<p>收入 卡  in</p>
<p>支出 卡 out</p>
<p>收付款账号</p>
<p>添加收款账户的时候，报名称重复</p>
<p>ept 表默认审核人是0个    v</p>
<h6 id="去审核人的值的时候，是用户表的用户的nickname-BUG-1210-1244"><a href="#去审核人的值的时候，是用户表的用户的nickname-BUG-1210-1244" class="headerlink" title="去审核人的值的时候，是用户表的用户的nickname   BUG 1210 1244"></a>去审核人的值的时候，是用户表的用户的nickname   BUG 1210 1244</h6><h6 id="使用的审核人是否是user表的nickname-检查"><a href="#使用的审核人是否是user表的nickname-检查" class="headerlink" title="使用的审核人是否是user表的nickname 检查"></a>使用的审核人是否是user表的nickname 检查</h6><p>BUG 1258已修改 v</p>
<p>类别收入支出的时候不显示这个字段 v 分情况显示（刚好和相反）</p>
<p>收入付款</p>
<p>支出收款 </p>
<p>18675859546 6666</p>
<figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">供货商后台登录账号密码</span><br><span class="line"><span class="number">18675859546</span>        <span class="number">6666</span>(app)</span><br><span class="line"><span class="number">13253551110</span>      <span class="number">123456</span>（app）</span><br><span class="line"><span class="number">13073732572</span> </span><br></pre></td></tr></table></figure>



<p>13469788888</p>
<p>16638024931 体验版 </p>
<p>18625779962 正式</p>
<p>51099</p>
<p>​    </p>
<p>李源锋</p>
<p>16638024931</p>
<p>userid</p>
<p>3084    </p>
<p>orgid</p>
<p>3083</p>
<p>运输 13103879831</p>
<p>版本号</p>
<p>代码</p>
<p>地址</p>
<p>内容</p>
<p>是否强制</p>
<p>更新时间</p>
<p>下单成功没有提醒</p>
<p>/order/orderPack/addOrderPack</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">                    MessageEventTypeEnum idcardAuth = null;</span><br><span class="line">                    String remarks = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                    <span class="keyword">if</span> (form.get<span class="constructor">AuthStatus()</span>.equals(<span class="module-access"><span class="module"><span class="identifier">AuthStatusEnum</span>.</span><span class="module"><span class="identifier">AUDIT_FAIL</span>.</span></span>get<span class="constructor">Value()</span>)) &#123;</span><br><span class="line">                        idcardAuth = <span class="module-access"><span class="module"><span class="identifier">MessageEventTypeEnum</span>.</span></span>get<span class="constructor">IdcardAuthFail(<span class="params">org</span>.<span class="params">getOrgType</span>()</span>);</span><br><span class="line">                        remarks = form.get<span class="constructor">Remarks()</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        idcardAuth = <span class="module-access"><span class="module"><span class="identifier">MessageEventTypeEnum</span>.</span></span>get<span class="constructor">IdcardAuthSuccess(<span class="params">org</span>.<span class="params">getOrgType</span>()</span>);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    MessageBuilder build = <span class="module-access"><span class="module"><span class="identifier">MessageBuilder</span>.</span></span>builder<span class="literal">()</span></span><br><span class="line">                            .is<span class="constructor">SendApp(<span class="params">true</span>)</span></span><br><span class="line">                            .is<span class="constructor">SendPlatform(<span class="params">true</span>)</span></span><br><span class="line">                            .send<span class="constructor">OrgId(0L)</span></span><br><span class="line">                            .send<span class="constructor">OrgType(1)</span></span><br><span class="line">                            .send<span class="constructor">OrgUserId(0L)</span></span><br><span class="line">                            .receive<span class="constructor">OrgId(<span class="params">org</span>.<span class="params">getOrgId</span>()</span>)</span><br><span class="line">                            .receive<span class="constructor">OrgType(<span class="params">org</span>.<span class="params">getOrgType</span>()</span>)</span><br><span class="line">                            .user<span class="constructor">Id(<span class="params">org</span>.<span class="params">getCreateUserId</span>()</span>)</span><br><span class="line">                            .relation<span class="constructor">IdType(0)</span></span><br><span class="line">                            .event<span class="constructor">Type(<span class="params">idcardAuth</span>.<span class="params">getValue</span>()</span>)</span><br><span class="line">                            .platform<span class="constructor">MessageTitle(<span class="params">idcardAuth</span>.<span class="params">getTitle</span>()</span>)</span><br><span class="line">                            .platform<span class="constructor">MessageContent(<span class="params">idcardAuth</span>.<span class="params">getDesc</span>()</span> + remarks)</span><br><span class="line">                            .app<span class="constructor">Title(<span class="params">idcardAuth</span>.<span class="params">getTitle</span>()</span>)</span><br><span class="line">                            .app<span class="constructor">Content(<span class="params">idcardAuth</span>.<span class="params">getDesc</span>()</span> + remarks)</span><br><span class="line">                            .is<span class="constructor">WaitAction(YesOrNoEnum.NO.<span class="params">getValue</span>()</span>)</span><br><span class="line">                            .build<span class="literal">()</span>;</span><br><span class="line">                    Long messageId = messageService.save<span class="constructor">Message(<span class="params">build</span>)</span>;</span><br><span class="line">                    build.set<span class="constructor">MessageId(<span class="params">messageId</span>)</span>;</span><br><span class="line">                    build.left<span class="constructor">Push()</span>;</span><br><span class="line">                &#125; catch (Exception e) &#123;</span><br><span class="line">                    logger.error(<span class="string">&quot;构建审核机构消息失败&quot;</span>, e);</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                 <span class="module-access"><span class="module"><span class="identifier">PushMessage</span>.</span></span>builder<span class="literal">()</span></span><br><span class="line">                        .msg<span class="constructor">Type(MsgConstant.LOGISTICS_COOPERATIVE_CANCEL_CAR_REQUEST)</span></span><br><span class="line">                        .id(cancelRecord.get<span class="constructor">FlagId()</span>)</span><br><span class="line">                        .message<span class="constructor">Id(<span class="params">messageId</span>)</span></span><br><span class="line">                        .org<span class="constructor">Type(<span class="params">cancelRecord</span>.<span class="params">getResponseOrgType</span>()</span>)</span><br><span class="line">                        .user<span class="constructor">TypeText(OrgTypeEnum.<span class="params">getDescByValue</span>(<span class="params">cancelRecord</span>.<span class="params">getResponseOrgType</span>()</span>))</span><br><span class="line">                        .org<span class="constructor">Id(<span class="params">cancelRecord</span>.<span class="params">getResponseOrgId</span>()</span>)</span><br><span class="line">                        .user<span class="constructor">Id(Collections.<span class="params">singletonList</span>(<span class="params">cancelRecord</span>.<span class="params">getResponseUserId</span>()</span>))</span><br><span class="line">                        .order<span class="constructor">No(Constants.EMPTY_STR)</span></span><br><span class="line">                        .name(<span class="module-access"><span class="module"><span class="identifier">OrgRemarkUtils</span>.</span></span>get<span class="constructor">UserRemark(<span class="params">cancelRecord</span>.<span class="params">getResponseUserId</span>()</span>, cancelRecord.get<span class="constructor">RequestUserId()</span>))</span><br><span class="line">                        .build<span class="literal">()</span></span><br><span class="line">                        .left<span class="constructor">Push()</span>;</span><br></pre></td></tr></table></figure>





<p>搭建jenkins + gogs 自动化部署平台</p>
<p>了解使用rocketmq   阿里云消息 中间件</p>
<p>net try</p>
<p>lolipodsplus</p>
<p>集群 并发 主从 高可用 同异步复盘</p>
<p>《计算机图形学从零讲起》[5]（Computer Graphics from Scratch）</p>
<p>《计算机图形学从零讲起》: <em><a target="_blank" rel="noopener" href="https://gabrielgambetta.com/computer-graphics-from-scratch/">https://gabrielgambetta.com/computer-graphics-from-scratch/</a></em></p>
<p>20210705</p>
<p>13253551113<br>13253551116</p>
<p>关宁数据导出号码</p>
<p>123</p>
<p>三条数据三个类型</p>
<h4 id="通知部分"><a href="#通知部分" class="headerlink" title="通知部分"></a>通知部分</h4><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">需要配置注意的点</span><br><span class="line">加上接收设备类型</span><br><span class="line">加上消息事件类型（订单 报价 合约）</span><br><span class="line">各个端的（发送的）内容也要写上</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">oSIAL<span class="number">46</span>CwS<span class="number">98</span>eJuU<span class="symbol">NLDADLfmRt8</span>A</span><br></pre></td></tr></table></figure>







<blockquote>
<p>客户端</p>
<p>13467900852 胡沙</p>
<p>13073732571 想个名字真难</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1 实名认证 通过未通过（原有）</span><br><span class="line">2 绑定供货商 成功拒绝（原有）</span><br><span class="line">3 解除供货商绑定成功（原有）</span><br><span class="line">4 有供货商绑定请求（原有）</span><br><span class="line">5 下单成功</span><br><span class="line">6 取消订单成功</span><br><span class="line">7 供货商接受订单	</span><br><span class="line">8 上级供货商修改订单价格</span><br><span class="line"></span><br><span class="line">车辆装车和卸车完成（还没有更新代码）</span><br><span class="line">各发送一个信息给客户和供货商，发送给供货商得信息是没问题</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>site 获取用户机构id 订单中买家机构id</p>
<p>车辆订单获取卖家机构id</p>
<p>实体类 mapper </p>
<p>org合作</p>
<p>水泥散装pc3 孟电</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">操作类型, 1:同意绑定, 2:拒绝绑定, 3:解除绑定, 4:取消申请, 6:删除此条, 7:再次申请</span><br></pre></td></tr></table></figure>

<blockquote>
<p>供货商</p>
<p>13467900825 陈晓彦</p>
<p>13469788520 孙延鹏 vv  1</p>
<p>16638024931李源锋 vv</p>
<p>17788101234 易建          2</p>
</blockquote>
<figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">1 </span>实名认证 通过未通过（原有）</span><br></pre></td></tr></table></figure>



<p>18625779969</p>
<blockquote>
<p>运输公司 13467900285  王晨</p>
<p>13467908552 李延文</p>
</blockquote>
<figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">1 </span>实名认证 通过未通过（原有）</span><br></pre></td></tr></table></figure>



<blockquote>
<p>司机 13467985002 王毅琨（身份证） 郑嘉荣（行驶证）</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<p>未完成</p>
<p>车辆装车和卸货完成</p>
<p>供货商和运输公司的几个提醒</p>
<p>客户buyot  供货商 运输端  车辆装车完成 到达卸货完成的提醒</p>
<p>运输公司和供货商的绑定需要排除是否准确</p>
<p>serve mapper 实体类</p>
<p>CUSTOMER_BINDING_SUCCESS</p>
<p>CUSTOMER_BINDING_SUSSESS</p>
<p>order_pack </p>
<p>order_pack_site </p>
<p>order_transport_site v</p>
<p>供货商 项目列表 </p>
<p>车辆装车完成</p>
<p><code>供货商</code> 两条消息</p>
<p><code>运输端</code>  一条消息 装车正常</p>
<p><code>客户端</code> 一条消息  v</p>
<p>车辆到达卸货完成</p>
<p><code>供货商</code> 两条消息</p>
<p><code>运输端</code> 一条消息  </p>
<p><code>客户端</code> 两条消息 v</p>
<p>客户id</p>
<p>机构id</p>
<p>用户id</p>
<p>20210702代办</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">1</span>、供货商<span class="number">2</span>.<span class="number">0</span>首页图标修改  v</span><br><span class="line"><span class="attribute">2</span>、小程序 公众号 消息推送 </span><br><span class="line"><span class="attribute">3</span>、供货商添加厂家列表 以及审核    v</span><br></pre></td></tr></table></figure>







<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">MessageBuilder</span> 消息推送</span><br></pre></td></tr></table></figure>



<h5 id="项目详情卸货信息数量统计"><a href="#项目详情卸货信息数量统计" class="headerlink" title="项目详情卸货信息数量统计"></a>项目详情卸货信息数量统计</h5><p>/finance/customer/tradeStatistics</p>
<h3 id="卸货信息数量统计比较数量统计少了一半"><a href="#卸货信息数量统计比较数量统计少了一半" class="headerlink" title="卸货信息数量统计比较数量统计少了一半"></a>卸货信息数量统计比较数量统计少了一半</h3><h5 id="数量统计卸货列表"><a href="#数量统计卸货列表" class="headerlink" title="数量统计卸货列表"></a>数量统计卸货列表</h5><p>/evidence/transaction/listTransactionRecords</p>
<p>查询项目id</p>
<p>观音寺修缮 siteId 311</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">https</span>://mp.weixin.qq.com/mp/subscribemsg?action=get_confirm&amp;appid=wx<span class="number">2</span>e<span class="number">47718651890</span>fea&amp;scene=<span class="number">1000</span>&amp;template_id=zauG<span class="number">6</span>n_<span class="number">2</span>FYX<span class="number">6</span>_<span class="number">5</span>wGj<span class="number">3</span>gtOdsV<span class="number">88</span>oY<span class="number">0</span>vgBZfG<span class="number">9</span>SWwZOcQ&amp;redirect_url=http%<span class="number">3</span>a%<span class="number">2</span>f%<span class="number">2</span>fsupport.qq.com&amp;reserved=test#wechat_redirect</span><br></pre></td></tr></table></figure>



<p>公众号的信息</p>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- appId: wx<span class="number">3987</span>caa<span class="number">36957</span>e<span class="number">3</span>f<span class="number">5</span></span><br><span class="line">  secret: <span class="number">8</span>e<span class="number">3</span>d<span class="number">8</span>c<span class="number">1681</span>e<span class="number">5916</span>a<span class="number">7</span>cedd<span class="number">8</span>e<span class="number">616586593</span></span><br><span class="line">  zau<span class="name">G6</span><span class="symbol">n_2</span>FYX<span class="number">6</span>_<span class="number">5</span>wGj<span class="number">3</span>gtOdsV<span class="number">88</span>oY<span class="number">0</span>vgBZf<span class="name">G9</span>SWwZOcQ</span><br></pre></td></tr></table></figure>



<p>司机端小程序</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">appid</span>: wx<span class="number">2</span>e<span class="number">47718651890</span>fea #微信小程序的appid</span><br><span class="line"><span class="attribute">secret</span>: <span class="number">58</span>eb<span class="number">7</span>bf<span class="number">1</span>b<span class="number">6</span>fddf<span class="number">06</span>b<span class="number">64889730</span>c<span class="number">29729</span>e #微信小程序的Secret</span><br></pre></td></tr></table></figure>

<p>wxfb6077a9960a0a77</p>
<figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uV8eOgsly5xTSF8SCaSlwtWOUuR6f0qv7dY-qZbDsCs</span><br></pre></td></tr></table></figure>





<p>oL4QC5XW4R6BSLHpktnaNOQiM2IY</p>
<p>oL4QC5XW4R6BSLHpktnaNOQiM2IY</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、司机用户初次绑定上传认证信息的时候，显示小程序消息被接收者拒绝</span><br><span class="line"><span class="number">2</span>、sql 没有初始化message_push代码要推上</span><br><span class="line"><span class="number">3</span>、关宁数据导出得postman接口保存</span><br><span class="line"><span class="number">4</span>、模板使用到的数据是在pushmessage那个地方拿到的</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">build.set<span class="constructor">MessageId(<span class="params">messageId</span>)</span>;</span><br><span class="line">build.left<span class="constructor">Push()</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">oL<span class="number">4</span>QC<span class="number">5</span>XW<span class="number">4</span>R<span class="number">6</span>BSLHpkt<span class="symbol">naNOQiM2</span>IY 司机端小程序的ope<span class="symbol">nid</span></span><br></pre></td></tr></table></figure>



<h3 id="接口功能对照表"><a href="#接口功能对照表" class="headerlink" title="接口功能对照表"></a>接口功能对照表</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">消息进度，司机部分完成，运输部分完成实名认证</span><br><span class="line">openid获取需要根据不同端来获取不同的openid</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="运输公司"><a href="#运输公司" class="headerlink" title="运输公司"></a>运输公司</h5><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">OrgAuthAuditLogController </span>实名认证部分（成功失败）</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="司机部分"><a href="#司机部分" class="headerlink" title="司机部分"></a>司机部分</h5><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">OrgAuthInfoServiceImpl </span>实名认证</span><br><span class="line"><span class="keyword">orgdrivercontroller </span>司机绑定运输公司成功失败</span><br></pre></td></tr></table></figure>



<p>车辆到达卸车完成需要确认模板信息是否正确 v</p>
<p>需要确认客户名字为空的原因 </p>
<p>导出书写 先做无磅单的 v</p>
<p>销售订单v /evidence/transaction/listTransactionRecords</p>
<ol>
<li>buyerOrSeller: 2 销售卖家</li>
<li>pageNum: 1</li>
<li>pageSize: 20</li>
<li>selectTimeType: 1</li>
<li>time: 1</li>
</ol>
<p>自提采购单 v /evidence/transaction/listTransactionRecords</p>
<ol>
<li>buyerOrSeller: 1 </li>
<li>isIncludeTransport: 1</li>
<li>pageNum: 1 </li>
<li>pageSize: 20</li>
<li>time: 1</li>
<li>timeSelectType: 7</li>
</ol>
<p>运输采购单v /evidence/transaction/listTransactionRecords</p>
<ol>
<li>isIncludeProduct: 1 </li>
<li>isIncludeTransport: 0</li>
<li>pageNum: 1</li>
<li>pageSize: 20 </li>
<li>selectTimeType: 7 </li>
<li>time: 1 </li>
</ol>
<p>落地采购单v /evidence/transaction/listTransactionRecords</p>
<ol>
<li>buyerOrSeller: 1</li>
<li>isIncludeProduct: 0</li>
<li>isIncludeTransport: 0</li>
<li>pageNum: 1  </li>
<li>pageSize: 20 </li>
<li>selectTimeType: 1</li>
<li>time: 1</li>
</ol>
<p>时间是空的话，不要显示时间这一项</p>
<p>新增拼音和首字母查询的部分</p>
<p>客户名称</p>
<p><a target="_blank" rel="noopener" href="http://192.168.0.8:40001/project/14/interface/api/1002">http://192.168.0.8:40001/project/14/interface/api/1002</a></p>
<p> /cooperation/listCooperationOrg</p>
<p>（可输入拼音或首字母查询）</p>
<p>项目名称 </p>
<p><a target="_blank" rel="noopener" href="http://192.168.0.8:40001/project/14/interface/api/1268">http://192.168.0.8:40001/project/14/interface/api/1268</a></p>
<p> /org/site/list</p>
<p>厂家名称    </p>
<p><a target="_blank" rel="noopener" href="http://192.168.0.8:40001/project/14/interface/api/386">http://192.168.0.8:40001/project/14/interface/api/386</a></p>
<p>/product/factory/list</p>
<p>品牌名称</p>
<p><a target="_blank" rel="noopener" href="http://192.168.0.8:40001/project/14/interface/api/1051">http://192.168.0.8:40001/project/14/interface/api/1051</a></p>
<p>/product/brand/list</p>
<p>spell_name     拼音名称,备注名称的每个字拼音首字母</p>
<p>归属要是新增抬头类型的话，可以直接使用哪个类型的接口</p>
<p>销项 seller = record_id sellerAmount</p>
<p>进项 buyer = record_id buyerAmount</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!--更新拼音列表信息--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updatePinyinEvent&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    UPDATE org_cooperation t</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;listArray != null&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    SET</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;listArray&quot;</span> <span class="attr">item</span>=<span class="string">&quot;item&quot;</span> <span class="attr">index</span>=<span class="string">&quot;index&quot;</span> <span class="attr">separator</span>=<span class="string">&quot; &quot;</span> <span class="attr">open</span>=<span class="string">&quot;&quot;</span> <span class="attr">close</span>=<span class="string">&quot;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            t.cooperation_id = #</span><span class="template-variable">&#123;item.cooperation_id&#125;</span><span class="xml">,</span></span><br><span class="line"><span class="xml">            t.pinyin = #</span><span class="template-variable">&#123;item.pinyin&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span></span><br></pre></td></tr></table></figure>



<p>发票列表新增返回字段 进项和销项金额</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">正式图标修改</span><br><span class="line">oss 上传接口</span><br><span class="line">https:<span class="regexp">//</span>api2.<span class="number">51</span>sn.com<span class="regexp">/common/u</span>pload</span><br><span class="line"></span><br><span class="line">替换表，所有图标上传到oss先</span><br></pre></td></tr></table></figure>







<p>上传对照</p>
<p>上传 查看 替换</p>
<table>
<thead>
<tr>
<th>menu_app_id</th>
<th>本地图片地址</th>
<th>远程图片地址</th>
<th>是否上传成功可访问</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/agreement_list.png">https://file.51sn.com/uploadimg/icon/agreement_list.png</a></td>
<td><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/8b57bd5b2786445db3dae8234925657e.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/8b57bd5b2786445db3dae8234925657e.png</a></td>
<td>y</td>
</tr>
<tr>
<td>2</td>
<td><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/price_home.png">https://file.51sn.com/uploadimg/icon/price_home.png</a></td>
<td><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/202be0e40d3f4c2ebcf59fab3aad5248.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/202be0e40d3f4c2ebcf59fab3aad5248.png</a></td>
<td>y</td>
</tr>
<tr>
<td>3</td>
<td><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/org_customer_list.png">https://file.51sn.com/uploadimg/icon/org_customer_list.png</a></td>
<td><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/8d91c87d21e643d4954b1fd50f100e7b.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/8d91c87d21e643d4954b1fd50f100e7b.png</a></td>
<td></td>
</tr>
<tr>
<td>4</td>
<td><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/transport_list.png">https://file.51sn.com/uploadimg/icon/transport_list.png</a></td>
<td><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/9b5bb9bc96dc4007a2e2322853620bbf.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/9b5bb9bc96dc4007a2e2322853620bbf.png</a></td>
<td></td>
</tr>
<tr>
<td>5</td>
<td><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/sys_message_list.png">https://file.51sn.com/uploadimg/icon/sys_message_list.png</a></td>
<td><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/9fed781a1d984ff38136046bb13e476b.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/9fed781a1d984ff38136046bb13e476b.png</a></td>
<td></td>
</tr>
<tr>
<td>6</td>
<td><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/data_report.png">https://file.51sn.com/uploadimg/icon/data_report.png</a></td>
<td><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/e5a8ccab40cb4bedb5bd4bb7d9aca427.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/e5a8ccab40cb4bedb5bd4bb7d9aca427.png</a></td>
<td></td>
</tr>
<tr>
<td>7</td>
<td><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/order_add_agent.png">https://file.51sn.com/uploadimg/icon/order_add_agent.png</a></td>
<td><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/f47c5c3cc5a44ee1922b0efb12c36fbf.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/f47c5c3cc5a44ee1922b0efb12c36fbf.png</a></td>
<td></td>
</tr>
<tr>
<td>8</td>
<td><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/order_plan_list.png">https://file.51sn.com/uploadimg/icon/order_plan_list.png</a></td>
<td><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/39613bc3e7e64070b604966adb28bd27.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/39613bc3e7e64070b604966adb28bd27.png</a></td>
<td></td>
</tr>
<tr>
<td>9</td>
<td><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/order_sale.png">https://file.51sn.com/uploadimg/icon/order_sale.png</a></td>
<td><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/3ccf552bf85042beae85d5584cfd8993.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/3ccf552bf85042beae85d5584cfd8993.png</a></td>
<td></td>
</tr>
<tr>
<td>11</td>
<td><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/price_notice.png">https://file.51sn.com/uploadimg/icon/price_notice.png</a></td>
<td><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/1b51177efcd248a1a6d6d82a958980f5.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/1b51177efcd248a1a6d6d82a958980f5.png</a></td>
<td></td>
</tr>
</tbody></table>
<p>12</p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/7dd4422dd51c4e0b898a8eb07a5e2715.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/7dd4422dd51c4e0b898a8eb07a5e2715.png</a></p>
<p>13</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/agreement_add_online.png">https://file.51sn.com/uploadimg/icon/agreement_add_online.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/2ccca6c05ed3456b9a3eb8d0d916d830.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/2ccca6c05ed3456b9a3eb8d0d916d830.png</a></p>
<p>14</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/agreement_add_offline.png">https://file.51sn.com/uploadimg/icon/agreement_add_offline.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/530a0eee3f814de0a25994d5c1cfbb34.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/530a0eee3f814de0a25994d5c1cfbb34.png</a></p>
<p>15</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/order_buy.png">https://file.51sn.com/uploadimg/icon/order_buy.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/cc88bd85fa424ed597274d917e62f1a5.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/cc88bd85fa424ed597274d917e62f1a5.png</a></p>
<p>16</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/order_buyer_transport.png">https://file.51sn.com/uploadimg/icon/order_buyer_transport.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/def11a2d9f8442ee89217a887931ba99.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/def11a2d9f8442ee89217a887931ba99.png</a></p>
<p>17</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/order_buyer_product.png">https://file.51sn.com/uploadimg/icon/order_buyer_product.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/0876b54ae7454ea1a52f5133ffac9870.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/0876b54ae7454ea1a52f5133ffac9870.png</a></p>
<p>18</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/order_buyer_pack.png">https://file.51sn.com/uploadimg/icon/order_buyer_pack.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/32b8f66b0cbe48ee810d5c120da2810e.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/32b8f66b0cbe48ee810d5c120da2810e.png</a></p>
<p>19</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/factory_list.png">https://file.51sn.com/uploadimg/icon/factory_list.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/e0ab7380cf7146f09d7dd3b9fb455d8c.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/e0ab7380cf7146f09d7dd3b9fb455d8c.png</a>    </p>
<p>20</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/factory_add.png">https://file.51sn.com/uploadimg/icon/factory_add.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/fd1ca624ed704b66bba66e22283426e0.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/fd1ca624ed704b66bba66e22283426e0.png</a></p>
<p>21</p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/9aea365b09ff4028a4e9f1572ab14bcd.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/9aea365b09ff4028a4e9f1572ab14bcd.png</a></p>
<p>23</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/small_org_customer_list.png">https://file.51sn.com/uploadimg/icon/small_org_customer_list.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/23aa1c95407345798e02f18e9480ab96.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/23aa1c95407345798e02f18e9480ab96.png</a></p>
<p>25</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/org_dealer_list.png">https://file.51sn.com/uploadimg/icon/org_dealer_list.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/147db86540da4886aa21d3f10c733873.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/147db86540da4886aa21d3f10c733873.png</a></p>
<p>29</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/small_transport_list.png">https://file.51sn.com/uploadimg/icon/small_transport_list.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/23ae5c12801643ecaf61c22098c8ada4.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/23ae5c12801643ecaf61c22098c8ada4.png</a></p>
<p>32</p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/60e4a53758af4c588c33bfd2b38ec291.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/60e4a53758af4c588c33bfd2b38ec291.png</a></p>
<p>33</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/factory_add.png">https://file.51sn.com/uploadimg/icon/factory_add.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/c499dcd9ea814201811d5ce745753348.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/c499dcd9ea814201811d5ce745753348.png</a></p>
<p>34</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/org_customer_add.png">https://file.51sn.com/uploadimg/icon/org_customer_add.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/ec23b5890b5649f3aa4d89e104e23e22.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/ec23b5890b5649f3aa4d89e104e23e22.png</a></p>
<p>35</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/dealer_price.png">https://file.51sn.com/uploadimg/icon/dealer_price.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/f13aa9e26d514dc88bb0b594b3be2bb9.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/f13aa9e26d514dc88bb0b594b3be2bb9.png</a></p>
<p>36</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/org_logistics_add.png">https://file.51sn.com/uploadimg/icon/org_logistics_add.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/9f5b7cac6bbc49fe9afa361da244dd61.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/9f5b7cac6bbc49fe9afa361da244dd61.png</a></p>
<p>37</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/quotation_action_list.png">https://file.51sn.com/uploadimg/icon/quotation_action_list.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/a051363fd12c4b7c8d1490857e6fdaef.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/a051363fd12c4b7c8d1490857e6fdaef.png</a></p>
<p>38</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/quotation_request_list.png">https://file.51sn.com/uploadimg/icon/quotation_request_list.png</a></p>
<p>40</p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/a1cb3c114643485896f37e7869b4c73e.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/a1cb3c114643485896f37e7869b4c73e.png</a></p>
<p>41</p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/b48789c0c47149518c6d4cacf81eac28.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/b48789c0c47149518c6d4cacf81eac28.png</a></p>
<p>42</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/transport_list.png">https://file.51sn.com/uploadimg/icon/transport_list.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/58acdae116a04c53bf1efc136242c3bd.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/58acdae116a04c53bf1efc136242c3bd.png</a></p>
<p>44</p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/810c4ca6c39b4c5082b5c9983365165e.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/810c4ca6c39b4c5082b5c9983365165e.png</a></p>
<p>45</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/order_seller_list.png">https://file.51sn.com/uploadimg/icon/order_seller_list.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/b0ed6afae30a4efab3c4c8b594c00012.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/b0ed6afae30a4efab3c4c8b594c00012.png</a></p>
<p>46</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/order_seller_list.png">https://file.51sn.com/uploadimg/icon/order_seller_list.png</a></p>
<p>47</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/small_price_home.png">https://file.51sn.com/uploadimg/icon/small_price_home.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/8f723cbd7ec44bfba2a64513dd56b3dc.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/8f723cbd7ec44bfba2a64513dd56b3dc.png</a></p>
<p>48</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/small_price_home.png">https://file.51sn.com/uploadimg/icon/small_price_home.png</a></p>
<p>49</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/sys_message_list.png">https://file.51sn.com/uploadimg/icon/sys_message_list.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/fbb2b003767447a085062f8b5e4f74ae.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/fbb2b003767447a085062f8b5e4f74ae.png</a></p>
<p>50</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/data_report.png">https://file.51sn.com/uploadimg/icon/data_report.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/6073aa6de23d461d8979ac205650378c.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/6073aa6de23d461d8979ac205650378c.png</a></p>
<p>52</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/customer_group.png">https://file.51sn.com/uploadimg/icon/customer_group.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/695acc27ba3d4fef81ac3a0e5ce61f80.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/695acc27ba3d4fef81ac3a0e5ce61f80.png</a></p>
<p>54</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/org_logistics_price.png">https://file.51sn.com/uploadimg/icon/org_logistics_price.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/39eead6814bb433082df456c47a87b97.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/39eead6814bb433082df456c47a87b97.png</a></p>
<p>55</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/cost_price.png">https://file.51sn.com/uploadimg/icon/cost_price.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/e36c1b178c454728b101333755441c65.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/e36c1b178c454728b101333755441c65.png</a></p>
<p>56</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/seller_price.png">https://file.51sn.com/uploadimg/icon/seller_price.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/2569c813b9dd4c8b9817896d3f1b0515.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/2569c813b9dd4c8b9817896d3f1b0515.png</a></p>
<p>57</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/org_customer_add.png">https://file.51sn.com/uploadimg/icon/org_customer_add.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/8ad8c90236664acf99ef33181e88acc1.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/8ad8c90236664acf99ef33181e88acc1.png</a></p>
<p>58</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/org_dealer_group.png">https://file.51sn.com/uploadimg/icon/org_dealer_group.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/fdf6b4fa979b48148680aa96a56c153c.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/fdf6b4fa979b48148680aa96a56c153c.png</a></p>
<p>60</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/org_logistics_list.png">https://file.51sn.com/uploadimg/icon/org_logistics_list.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/a6515d6f74b045f9a8883f08f4fedc3f.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/a6515d6f74b045f9a8883f08f4fedc3f.png</a></p>
<p>61</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/org_logistics_group.png">https://file.51sn.com/uploadimg/icon/org_logistics_group.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/471b93cc17c9473896c5215850da4574.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/471b93cc17c9473896c5215850da4574.png</a></p>
<p>62</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/org_logistics_add.png">https://file.51sn.com/uploadimg/icon/org_logistics_add.png</a></p>
<p>63</p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/108c44ba7ab24714b23d2f53f5a4c8d3.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/108c44ba7ab24714b23d2f53f5a4c8d3.png</a></p>
<p>64</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/help_center.png">https://file.51sn.com/uploadimg/icon/help_center.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/0a5282203cef4c738320c1ffe78928db.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/0a5282203cef4c738320c1ffe78928db.png</a></p>
<p>65</p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/2a94d751823447c4b5e6fb622071c6e9.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/2a94d751823447c4b5e6fb622071c6e9.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/5d031376ec3a4bd7896c469d9d578880.png66">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/5d031376ec3a4bd7896c469d9d578880.png66</a></p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/my_cloud_chain.png">https://file.51sn.com/uploadimg/icon/my_cloud_chain.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/24643abdb6b54703af8201ed21cc2e11.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/24643abdb6b54703af8201ed21cc2e11.png</a></p>
<p>67</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/finance_total.png">https://file.51sn.com/uploadimg/icon/finance_total.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/29e9dfc7fb3944ef9eb88a82dd3bd7f1.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/29e9dfc7fb3944ef9eb88a82dd3bd7f1.png</a></p>
<p>68</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/back_payment.png">https://file.51sn.com/uploadimg/icon/back_payment.png</a></p>
<p>69</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/payment.png">https://file.51sn.com/uploadimg/icon/payment.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/7091a023dc284ad09f40a9fae051f8e7.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/7091a023dc284ad09f40a9fae051f8e7.png</a></p>
<p>73</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/salesman_list.png">https://file.51sn.com/uploadimg/icon/salesman_list.png</a></p>
<p>75</p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/ddbad4a376984cca8ef46c6d4e265d42.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/ddbad4a376984cca8ef46c6d4e265d42.png</a></p>
<p>76</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/factory_list.png">https://file.51sn.com/uploadimg/icon/factory_list.png</a></p>
<p><a target="_blank" rel="noopener" href="https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/5d031376ec3a4bd7896c469d9d578880.png">https://yqgl-public.oss-cn-qingdao.aliyuncs.com/upload/5d031376ec3a4bd7896c469d9d578880.png</a></p>
<p>77</p>
<p><a target="_blank" rel="noopener" href="https://file.51sn.com/uploadimg/icon/acount_list.png">https://file.51sn.com/uploadimg/icon/acount_list.png</a></p>
<p> 运输公司，实名认证成功需要测试（应该是一次性订阅消息失效了）</p>
<p>归属的话，如果是本公司的，不需要添加机构id和类型，否则的话需要加上机构id</p>
<p>/invoice/record/listInvoiceRecord</p>
<p>接口返回数据，总金额和销项进项的金额加起来不一致，愿意是有些sellerbuyer的机构id和record的id不一样</p>
<p>是的</p>
<p>200801270427</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//运输端添加推送消息</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">PushMessage</span>.</span></span>builder<span class="literal">()</span></span><br><span class="line">        .msg<span class="constructor">Type(MsgConstant.LOGISTICS_BINDING_SUCCESS)</span></span><br><span class="line">        .org<span class="constructor">Type(OrgTypeEnum.LOGISTIC.<span class="params">getValue</span>()</span>)</span><br><span class="line">        .user<span class="constructor">TypeText(OrgTypeEnum.<span class="params">getDescByValue</span>(<span class="params">orgDriver</span>.<span class="params">getDriverType</span>()</span>))</span><br><span class="line">        .org<span class="constructor">Id(<span class="params">orgDriver</span>.<span class="params">getOrgId</span>()</span>)</span><br><span class="line">        .content(content)</span><br><span class="line">        .name(<span class="string">&quot;司机成功&quot;</span>)</span><br><span class="line">        .source(<span class="module-access"><span class="module"><span class="identifier">OrgTypeEnum</span>.</span><span class="module"><span class="identifier">LOGISTIC</span>.</span></span>get<span class="constructor">Value()</span>)</span><br><span class="line">        .user<span class="constructor">Id(Collections.<span class="params">singletonList</span>(<span class="params">orgDriver</span>.<span class="params">getUserId</span>()</span>))</span><br><span class="line">        .build<span class="literal">()</span></span><br><span class="line">        .left<span class="constructor">Push()</span>;</span><br></pre></td></tr></table></figure>



<p>运输公司 绑定解除 成功失败的 客户（供货商）部分没有完成</p>
<p>供货商端  首页财务  发票统计跳转到发票列表   两个的汇总数据不一样（需要核对下数据为什么不一样）</p>
<p>ORGCOOPERATION  生成的拼音 有些哦没有生成成功，应该是逻辑中代码灭有补全</p>
<p>/org/authInfo/personAuth</p>
<p>客户端本地测试接口需要模拟一个本地审核请求</p>
<p>dealer_factory_account </p>
<p>新增字段拼音字段和拼音首字母字段，以及修改增加修改逻辑 修改xml配置查询</p>
<p>绑定供货商成功</p>
<p>解除绑定供货商成功  为啥找不到这个字段v</p>
<p>同意拒绝议价 没有完成（逻辑没问题，但是无法激活发下哦那个小程序消息的部分）</p>
<p>上级提供商修改订单价格 没有完成</p>
<h4 id="加好友部分需要重新核对下（四个端）"><a href="#加好友部分需要重新核对下（四个端）" class="headerlink" title="加好友部分需要重新核对下（四个端）"></a>加好友部分需要重新核对下（四个端）</h4><p>547JMQ3</p>
<p>上</p>
<p>查询，增加标识，是根据全程还是简称进行groubby</p>
<p>下</p>
<p>查询的时候，指定使用全称或者是简称进行查询</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--简称 0</span></span><br><span class="line">&lt;<span class="keyword">if</span> test=&quot;query.isFullName != null and  query.isFullName = 0&quot;&gt;</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> pm.model_short_name</span><br><span class="line">&lt;/<span class="keyword">if</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">--全称 1 </span></span><br><span class="line">&lt;<span class="keyword">if</span> test=&quot;query.isFullName != null and  query.isFullName = 1&quot;&gt;</span><br><span class="line">    <span class="keyword">group</span> <span class="keyword">by</span> pm.model_name</span><br><span class="line">&lt;/<span class="keyword">if</span>&gt;</span><br></pre></td></tr></table></figure>



<p>核对小程序的消息推送的token获取机制，是否可以拿到相应的openid值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main &#123;</span><br><span class="line">    Sysout.println(<span class="string">&quot;|&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>筛选 </p>
<p>搜索</p>
<p>简称全称搜索产品的位置：</p>
<p>/adjust/seller/listAdjustSeller                                            v<br>/quotation/quotationApply/listSellerQuotationApply  v<br>/quotation/quotationApply/listBuyerQuotationApply  v<br>/product/productFactory/listProductGroupByFactory v<br>/quotation/quotation/getQuotationHistoryPrice</p>
<p>/cooperation/info</p>
<p>增加是否有项目的辨识字段</p>
<p>客户的有缺少项目的</p>
<p>找陈洋对一下数据</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifnull(if(efs.amount &lt;![CDATA[&lt;]]&gt; 0, efs.amount, 0), 0) as receivableAmount,</span><br></pre></td></tr></table></figure>



<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">select</span> <span class="title">sum</span>(<span class="params">efs.amount</span>) <span class="keyword">from</span> evidence_finance_summary efs</span></span><br><span class="line"><span class="function"><span class="keyword">join</span> org_site os <span class="keyword">on</span> os.site_id</span> = efs.site_id <span class="keyword">where</span>  efs.is_delete = <span class="number">1</span> <span class="keyword">and</span> efs.finance_summary_type = <span class="number">3</span></span><br><span class="line"><span class="keyword">and</span> efs.recorder_org_id = <span class="meta">#&#123;orgId&#125; and efs.site_id = os.site_id) as receivableAmount,</span></span><br></pre></td></tr></table></figure>





<p>/product/productOrgSalesmanPrice/salesmanOrgSiteList</p>
<p>增加返回的字段</p>
<p>/org/site/info  返回数据添加字段  垫资类别  付款周期  垫资额度  付款条件  对账日 合同状态v</p>
<p>/evidence/payable/list</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pageResult.set<span class="constructor">Total(<span class="params">customers</span>.<span class="params">size</span>()</span>);</span><br></pre></td></tr></table></figure>

<p> creditType  现在是付款类别</p>
<p>userid  3140</p>
<p>orgid 3139</p>
<p>orgtype 2</p>
<p>客户</p>
<p>orgid 3083</p>
<p>userid 3084</p>
<p>orgtype 6</p>
<p>客户可见的查询接口 新建接口，查看这里</p>
<p>思路：点击可以查看的时候，把当前产品放到合作关系表里，取消查看的时候，遍历删除合作关系 </p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/product/</span>orgToOrgSellProduct/marketProductInfos</span><br></pre></td></tr></table></figure>



<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">and</span> otosp.customer_is_look = <span class="number">0</span></span><br></pre></td></tr></table></figure>



<p>出厂价 落地价的修改 客户选中状态的记住 （orgconfig表）v</p>
<p>org_to_org_sell_product 这是产品信息表</p>
<p>org_to_org_sell_product_price 这是产品价格表</p>
<p>quotation 这是记录表，操作价格的操作（）成功之后要在这个表里新增一条记录</p>
<p>0912</p>
<p>需要供货商端 设置客户的手机号码（可以设置多个）</p>
<p>修改已经生效了，问题在查询的位置,需要设置下查询price表 ssssssssssssssssss</p>
<p>财务参考接口</p>
<p>/evidence/transaction/transactionStatistics</p>
<p>作为业务员只有这两个字段有数据</p>
<p>totalAmount</p>
<p>totalDiffWeight</p>
<p>数量统计车数翻倍问题</p>
<p>余额必须要使用buyorseller的问题</p>
<p>余额需要使用的接口</p>
<p>/evidence/summary/getBalance</p>
<p>应收应回账</p>
<p><a target="_blank" rel="noopener" href="http://192.168.0.254:6688/%E4%BE%9B%E8%B4%A7%E5%95%86/%E4%B8%9A%E5%8A%A1%E5%91%98/#s29">http://192.168.0.254:6688/%E4%BE%9B%E8%B4%A7%E5%95%86/%E4%B8%9A%E5%8A%A1%E5%91%98/#s29</a> 由下到上六个页面</p>
<p>参考接口</p>
<p>/org/salesman/listCustomers  这个接口里面有应收账跟 应回账</p>
<p>业务员不分厂家什么的</p>
<p>财务部分需要分开 </p>
<p>财务这个页面  还分三个模块  用户  供货商/厂家  运输</p>
<p>项目列项目列表的卸货车数和卸货列表的卸货车数对不上  v</p>
<p>供货商 客户 项目 查看详情 可能会出现 没有权限查看此项目，需要解决</p>
<p>使用的接口s</p>
<p>/cooperation/transActionSupplierInfoOneV2</p>
<blockquote>
<p>GitHub 地址→<a target="_blank" rel="noopener" href="https://github.com/NvChad/NvChad">https://github.com/NvChad/NvChad</a></p>
</blockquote>
<p>bug项目详情统计  v</p>
<p>客户项目重复（） v</p>
<p>新写接口  对项目和产品单独设置报价方式</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">	* </span><br><span class="line">FROM</span><br><span class="line">	<span class="keyword">org_to_org_sell_product </span>otosp</span><br><span class="line">	LEFT <span class="keyword">JOIN </span><span class="keyword">org_to_org_sell_product_price </span>opp ON opp.pf_id = otosp.pf_id </span><br><span class="line">	<span class="keyword">AND </span>opp.seller_user_id = otosp.seller_user_id </span><br><span class="line">	<span class="keyword">AND </span>opp.<span class="keyword">buyer_user_id </span>= otosp.<span class="keyword">buyer_user_id </span></span><br><span class="line">WHERE</span><br><span class="line">	otosp.<span class="keyword">buyer_user_id </span>= <span class="number">3084</span> </span><br><span class="line">	<span class="keyword">AND </span>otosp.seller_user_id = <span class="number">3140</span> </span><br><span class="line">	<span class="keyword">AND </span>otosp.site_id = <span class="number">292</span> </span><br><span class="line">	<span class="keyword">AND </span>opp.is_delete = <span class="number">1</span> </span><br><span class="line">GROUP <span class="keyword">BY</span></span><br><span class="line"><span class="keyword"></span>	otosp.otosp_id </span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	SELECT</span><br><span class="line">	* </span><br><span class="line">FROM</span><br><span class="line">	<span class="keyword">org_to_org_sell_product </span>otosp</span><br><span class="line"> </span><br><span class="line">WHERE</span><br><span class="line">	otosp.<span class="keyword">buyer_user_id </span>= <span class="number">3084</span> </span><br><span class="line">	<span class="keyword">AND </span>otosp.seller_user_id = <span class="number">3140</span> </span><br><span class="line">	<span class="keyword">AND </span>otosp.site_id = <span class="number">292</span>  </span><br><span class="line"> </span><br><span class="line">	</span><br><span class="line">	</span><br></pre></td></tr></table></figure>



<p>客户端消息 有openid 但是消息发送失败</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="module-access"><span class="module"><span class="identifier">BeanUtils</span>.</span></span>copy<span class="constructor">Properties(<span class="params">form</span>,<span class="params">orgToPrice</span>)</span>;</span><br><span class="line"></span><br><span class="line">               <span class="comment">//如果出厂价和运费都设置的话，自动生成落地价（出厂价+运费）</span></span><br><span class="line">               <span class="keyword">if</span>(orgToPrice.get<span class="constructor">ProductPrice()</span> != null<span class="operator"> &amp;&amp; </span>orgToPrice.get<span class="constructor">ProductPrice()</span>.compare<span class="constructor">To(<span class="params">new</span> BigDecimal(<span class="string">&quot;0.0&quot;</span>)</span>)<span class="operator"> == </span><span class="number">1</span><span class="operator"> &amp;&amp; </span>orgToPrice.get<span class="constructor">TransportPrice()</span> != null<span class="operator"> &amp;&amp; </span>orgToPrice.get<span class="constructor">TransportPrice()</span>.compare<span class="constructor">To(<span class="params">new</span> BigDecimal(<span class="string">&quot;0.0&quot;</span>)</span>)== <span class="number">1</span>)&#123;</span><br><span class="line">                   BigDecimal bigDecimal = orgToPrice.get<span class="constructor">ProductPrice()</span>.add(orgToPrice.get<span class="constructor">TransportPrice()</span>);</span><br><span class="line">                           orgToPrice.set<span class="constructor">TotalPrice(<span class="params">bigDecimal</span>)</span>;</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">if</span>(orgToPrice.get<span class="constructor">ProductPriceTax()</span> != null<span class="operator"> &amp;&amp; </span>orgToPrice.get<span class="constructor">ProductPriceTax()</span>.compare<span class="constructor">To(<span class="params">new</span> BigDecimal(<span class="string">&quot;0.0&quot;</span>)</span>)<span class="operator"> == </span><span class="number">1</span><span class="operator"> &amp;&amp; </span>orgToPrice.get<span class="constructor">TransportPriceTax()</span> != null<span class="operator"> &amp;&amp; </span>orgToPrice.get<span class="constructor">TransportPriceTax()</span>.compare<span class="constructor">To(<span class="params">new</span> BigDecimal(<span class="string">&quot;0.0&quot;</span>)</span>)== <span class="number">1</span>)&#123;</span><br><span class="line">                   BigDecimal bigDecimal = orgToPrice.get<span class="constructor">ProductPriceTax()</span>.add(orgToPrice.get<span class="constructor">TransportPriceTax()</span>);</span><br><span class="line">                   orgToPrice.set<span class="constructor">TotalPriceTax(<span class="params">bigDecimal</span>)</span>;</span><br><span class="line">               &#125;</span><br><span class="line"></span><br><span class="line">               orgToPrice.set<span class="constructor">UpdateTime(DateUtil.<span class="params">currentSeconds</span>()</span>);</span><br><span class="line"></span><br><span class="line">               Boolean updateBl = baseMapper.update<span class="constructor">ById(<span class="params">orgToPrice</span>)</span> &gt; <span class="number">0</span>;</span><br></pre></td></tr></table></figure>





<p>设置客户可见 接口</p>
<p>需要把信息设置到price价格表上 需要修改现在设置在produce产品表上的信息</p>
<p>产品价格表 设置的是针对客户不可见 还是设置这个客户可见状态的</p>
<p>小程序发送消息</p>
<p>成本价</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/***</span></span><br><span class="line"><span class="comment">     * 设置客户对产品列表价格的可见不可见</span></span><br><span class="line"><span class="comment">     * 供货商-&gt;客户-&gt;产品列表-&gt;产品价格表，设置所有产品价格对当前客户的可见不可见状态（所有产品）</span></span><br><span class="line"><span class="comment">     * @param form</span></span><br><span class="line"><span class="comment">     * @return</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="variable">@PreAuthorize</span>(<span class="string">&quot;@ss.hasPermi(&#x27;product:orgToOrgSellProduct:setCustomerPriceIsLook|K:G&#x27;)&quot;</span>)</span><br><span class="line">    <span class="variable">@PostMapping</span>(<span class="string">&quot;setCustomerPriceIsLook&quot;</span>)</span><br><span class="line">    public CommonResult setCustomerPriceIsLook(<span class="variable">@RequestBody</span> OrgToOrgSellProductForm form)&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="selector-tag">return</span>  <span class="selector-tag">CommonResult</span><span class="selector-class">.fail</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<p>品牌 包装 型号</p>
<p>用户发送小程序消息需要单独写一个表来存openid</p>
<p> <a target="_blank" rel="noopener" href="https://github.com/microsoft/IoT-For-Beginners">https://github.com/microsoft/IoT-For-Beginners</a> </p>
<p> <a target="_blank" rel="noopener" href="https://www.eff.org/deeplinks/2021/08/captcha-patent-all-american-nightmare">https://www.eff.org/deeplinks/2021/08/captcha-patent-all-american-nightmare</a> </p>
<p>小程序用户登录 》调用openid获取接口 》 设置当前登录的小程序用户信息到数据库 》 消息服务查询新建的这个表，获取这个用户的openid 来进行消息的小程序推送</p>
<p>wx_user 新表需要使用到的字段</p>
<p>wx_user_openid</p>
<p>id </p>
<p>orgid</p>
<p>orgtype</p>
<p>userid</p>
<p>创建时间 </p>
<p>用户openid</p>
<p>用户union_id</p>
<p>用户sessionkey</p>
<p>是否删除 </p>
<p>文轩车队6月18号–6月27号 13865330565</p>
<p>慧祥车队6月18号–6月27号 15005633589</p>
<p>飞拓车队6月18号–6月27号 13956587830</p>
<p>/cooperation/transActionSupplierInfoOneV2</p>
<p>/evidence/transaction/transactionStatistics</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cooUserIds seller<span class="emphasis">_user_id 获取</span></span><br><span class="line"><span class="emphasis">userIds buyer_user_</span>id 传 </span><br></pre></td></tr></table></figure>







<ol>
<li>beginTime: “”</li>
<li>buyerOrSeller: 2</li>
<li>cooOrgIds: [“3083”]</li>
<li>cooUserIds: [“3084”]</li>
<li>endTime: “”</li>
</ol>
<p>16638024931</p>
<p>收款账户主表 增加两个拼音字段 全拼和首拼</p>
<p>供货商端运输公司列表  输入机构名称拼音字段搜索出现问题 输入s 可以出现但是列表并没有显示这个条数据</p>
<p>这个问题得原因是pinyin字段不规范</p>
<p>发票号码  发票类型  发票税率  发票金额  </p>
<p>购买方</p>
<p>发票抬头（名称）  地址电话  开户行及账号</p>
<p>销售方</p>
<p>发票抬头（名称）</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/***</span></span><br><span class="line"><span class="comment">     * 取消已接受的客户订单(经销商取消订单，供货商接受消息)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    DEALER_CANCEL_ORDER_SUCCESS(<span class="number">2019</span>, <span class="string">&quot;取消已接受的客户订单&quot;</span>, <span class="string">&quot;您的订单：&#123;&#125; 已取消，原因为：&#123;&#125;&quot;</span>),</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 订单被供应商取消(客户接收，供货商操作取消)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    CUSTOMER_ORDER_DEALER_CANCEL_SUCCESS(<span class="number">6003</span>, <span class="string">&quot;取消订单成功&quot;</span>, <span class="string">&quot;您的订单：&#123;&#125; 已被供应商取消，原因为：&#123;&#125;&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    需要增加小程序消息的位置 </span><br><span class="line">    客户端两条 </span><br><span class="line">    </span><br><span class="line">    订单被供货商拒绝  </span><br><span class="line">    订单被供应商取消 (进行中) </span><br><span class="line">    UV出更独特比火车</span><br><span class="line">code</span><br><span class="line"><span class="number">0834</span>pkFa1oclGB0OZqHa1PIaCq14pkFa</span><br><span class="line">session</span><br><span class="line">Qro29xVIE<span class="regexp">/mQ/i</span>abRb9rQ==</span><br><span class="line">openid</span><br><span class="line">oSIAL46CwS98eJuUNLDADLfmRt8A</span><br><span class="line">uniid</span><br><span class="line">obKDJjr63NwWBthIN0KMfSbZJing</span><br><span class="line">    </span><br></pre></td></tr></table></figure>



<p>要把编号同步到文档</p>
<p>在 表里获取到用户的orgid  通过org id拿到用户的userid</p>
<p>然后返回 用户的机构id 用户id 和备注名称 </p>
<p>卓金历</p>
<p>oSIAL44ihwhYkOXL7dzNYDWwLh3g    obKDJjs9gjfx93W05LJRpgjqcuRQ    RFAbAwHC/reRIH/Kp8gJmw==</p>
<p>2020-10-27 10:02:19</p>
<p>1629993600</p>
<p>1630684799</p>
<p>YY210830SS73071</p>
<p>出厂时间 1625245200</p>
<p>卸货时间 1630301808</p>
<p>实际提货时间1630301808</p>
<p>⭐</p>
<p>出厂时间是正确的 卸货时间在数据库返回的这个值是正确的</p>
<p>现在的问题是  显示查询的时候 使用的是哪个字段 然后找到 确认是使用哪个字段 修复这个问题</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if(otcdst.appoint_deliver_time &lt;![CDATA[&gt;]]&gt; 0, otcdst.appoint_deliver_time, otcdst.deliver_time) as deliver_time,</span><br></pre></td></tr></table></figure>



<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">order_transport_car_deliver_site_task</span></span><br></pre></td></tr></table></figure>



<p>2021-03-23 15:04:41</p>
<p>2021-03-23 14:04:00</p>
<p>YY210830SS54755</p>
<p>浙A21F57</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">otc.last_deliver_time,</span><br><span class="line">otc.first_arrive_factory_time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 查询 销项或进项（<span class="number">0</span>：销项，<span class="number">1</span>：进项） 销项</span><br><span class="line">        &lt;<span class="keyword">if</span> test=<span class="string">&quot;query.saleOrIncomeStatus == 0&quot;</span>&gt;</span><br><span class="line">            AND ir.buyer_org_id != #&#123;query.orgId&#125;</span><br><span class="line">        &lt;/<span class="keyword">if</span>&gt;</span><br><span class="line"></span><br><span class="line">        -- 查询 销项或进项（<span class="number">0</span>：销项，<span class="number">1</span>：进项）进项</span><br><span class="line">        &lt;<span class="keyword">if</span> test=<span class="string">&quot;query.saleOrIncomeStatus == 1&quot;</span>&gt;</span><br><span class="line">            AND ir.seller_org_id != #&#123;query.orgId&#125;</span><br><span class="line">        &lt;/<span class="keyword">if</span>&gt;</span><br><span class="line">        </span><br><span class="line">        userid <span class="number">3140</span></span><br><span class="line">        orgid <span class="number">3139</span></span><br><span class="line">        <span class="number">2</span></span><br><span class="line">        buyuserid </span><br><span class="line">        buyorgid </span><br><span class="line">        </span><br><span class="line">        /view/index.html</span><br><span class="line">        </span><br><span class="line">        org_cooperation 中的机构搜索 搜索的是用户表里的信息 所以需要再用户的表中新增几个搜索的拼音字段</span><br><span class="line">            </span><br><span class="line">            http:<span class="comment">//127.0.0.1:8888/d0ecc415-5c1f-4db8-bd5b-faf2495bea3e</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">if</span> test=&quot;query.factoryOrgName != null and query.factoryOrgName != &#x27;&#x27;&quot;&gt;</span><br><span class="line">    <span class="keyword">and</span> (</span><br><span class="line">    t2.org_name <span class="keyword">like</span> concat(<span class="string">&#x27;%&#x27;</span>, #&#123;query.factoryOrgName&#125; ,<span class="string">&#x27;%&#x27;</span>)</span><br><span class="line">    <span class="keyword">or</span> t2.org_short_name <span class="keyword">like</span> concat(<span class="string">&#x27;%&#x27;</span>, #&#123;query.factoryOrgName&#125; ,<span class="string">&#x27;%&#x27;</span>)</span><br><span class="line">    )</span><br><span class="line">&lt;/<span class="keyword">if</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="keyword">if</span> test=&quot;query.searchValue != null and query.searchValue != &#x27;&#x27;&quot;&gt;</span><br><span class="line">    <span class="keyword">and</span> (</span><br><span class="line">    t2.org_name <span class="keyword">like</span> concat(<span class="string">&#x27;%&#x27;</span>, #&#123;query.searchValue&#125; ,<span class="string">&#x27;%&#x27;</span>)</span><br><span class="line">    <span class="keyword">or</span> t2.org_short_name <span class="keyword">like</span> concat(<span class="string">&#x27;%&#x27;</span>, #&#123;query.searchValue&#125; ,<span class="string">&#x27;%&#x27;</span>)</span><br><span class="line">    )</span><br><span class="line">&lt;/<span class="keyword">if</span>&gt;</span><br></pre></td></tr></table></figure>



<p>1588</p>
<p>新增 更新 需要加上开票的时间这个字段 v</p>
<p>/invoice/record/updateInvoiceRecord  入参加字段  billingTime v</p>
<p>16638024931 </p>
<hr>
<p>客户端 项目 项目共享得标识 设置全部供货商和部分供货商得值有冲突</p>
<p>供货商端，查询得是合作得用户 </p>
<p>接口文档</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python3 predict.py \</span><br><span class="line">       --config configs<span class="regexp">/quick_start/</span>bisenet_optic_disc_512x512_1k.yml \</span><br><span class="line">       --model_path https:<span class="regexp">//</span>bj.bcebos.com<span class="regexp">/paddleseg/</span>dygraph<span class="regexp">/optic_disc/</span>bisenet_optic_disc_512x512_1k/model.pdparams\</span><br><span class="line">       --image_path docs<span class="regexp">/images/</span>optic_test_image.jpg \</span><br><span class="line">       --save_dir output/result</span><br></pre></td></tr></table></figure>





<p>订单拼音搜索问题</p>
<p>匹配字段不够精确（三个字段） </p>
<p>代码是先查询信息，然后才写入的客户名称参数</p>
<p>先看规则是不是可以改写</p>
<p>20210914</p>
<p>供货商给客户新增的项目，无法再项目列表中查看到</p>
<p>可能是代码陈旧的问题</p>
<p>删除项目成功了 再次进行新增，价格还在</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.e<span class="string">q(OrgToOrgSellProduct::getIsDelete, YesOrNoEnum.NO.getValue()</span>)</span><br><span class="line">.last(<span class="string">&quot;limit 1&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>976</p>
<p>1295</p>
<p>token</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">eyJhbGciOiJIUzUxMiJ9</span>.eyJsb<span class="number">2</span>dpbl<span class="number">91</span>c<span class="number">2</span>VyX<span class="number">2</span>tleSI<span class="number">6</span>IjA<span class="number">4</span>MzFiYzJlLTQ<span class="number">3</span>OWEtNDQxZC<span class="number">1</span>iNTM<span class="number">1</span>LTY<span class="number">0</span>MmNlODJhNGQ<span class="number">4</span>NyJ<span class="number">9</span>.yyeVAJPZnsklUeclF<span class="number">7</span>ntCeeOV<span class="number">0</span>WDdNsLDPEpKmznQx_g<span class="number">7</span>quWZlrMTP<span class="number">9</span>l<span class="number">5</span>Kp<span class="number">8</span>xUzE-ZqWReieGGQ-<span class="number">8</span>CB-Dh-D<span class="number">5</span>Q</span><br><span class="line"></span><br><span class="line"><span class="attribute">eyJhbGciOiJIUzUxMiJ9</span>.eyJsb<span class="number">2</span>dpbl<span class="number">91</span>c<span class="number">2</span>VyX<span class="number">2</span>tleSI<span class="number">6</span>IjNmZTAyNDc<span class="number">0</span>LWI<span class="number">4</span>OTktNDFmMy<span class="number">04</span>YWM<span class="number">5</span>LWVhMDI<span class="number">2</span>ZjU<span class="number">4</span>YWEzMCJ<span class="number">9</span>.F<span class="number">8</span>uFNfegJQj<span class="number">9</span>fOQZIt<span class="number">4</span>iS<span class="number">5</span>zfr_z<span class="number">83</span>XCIVCMQX<span class="number">8</span>EB<span class="number">4</span>Nw-znE<span class="number">87</span>MamJwu<span class="number">2</span>Zy<span class="number">3</span>-t<span class="number">8</span>fKt<span class="number">6</span>Pu<span class="number">6</span>VXGnTAQUfHaWq<span class="number">6</span>JTg</span><br></pre></td></tr></table></figure>





<p>/account/list  返回数据添加字段  collectingAccountType   accountName</p>
<p>/account/add  入参添加 两个字段:  是否启用  subjectType添加一种类型:纸质承兑</p>
<p>/order/orderPack/getSiteUnAllotData?siteId=292&amp;buyerOrSeller=2</p>
<p>删除禁用  其中删除是否需要查询连带的</p>
<p>详情字段要对应新增字段（需要核对下）</p>
<p>订单车辆信息</p>
<p>运输订单车辆信息</p>
<p>应付</p>
<p>取消一车</p>
<p>/order/orderTransportCar/cancelCar</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">获取打包订单未派车数据</span><br></pre></td></tr></table></figure>

<p>/order/orderPack/getSiteUnAllotData</p>
<p>无法修改成功</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="module-access"><span class="module"><span class="identifier">InvoiceType</span>.</span></span>get<span class="constructor">InvoiceId()</span> &lt;= <span class="number">1</span><span class="operator"> || </span><span class="module-access"><span class="module"><span class="identifier">InvoiceType</span>.</span></span>get<span class="constructor">InvoiceId()</span> &gt; <span class="number">5</span>)&#123;</span><br><span class="line">    throw <span class="keyword">new</span> <span class="constructor">BizException(<span class="string">&quot;所选发票类型不符合条件&quot;</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<p>/invoice/record/addInvoiceRecord </p>
<p>出现异常</p>
<p>返回列表 宽 </p>
<p>id: “ladeTimeIncludePinyin”,<br>      hide: true,<br>      index: 0</p>
<p>保存</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	o.org_name <span class="keyword">AS</span> factory_org_name,</span><br><span class="line">	o.org_short_name <span class="keyword">AS</span> factory_org_short_name,</span><br><span class="line">	<span class="built_in">count</span>( <span class="number">1</span> ) <span class="keyword">AS</span> accountNum,</span><br><span class="line">	dfa.* </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	dealer_factory_account dfa</span><br><span class="line">	<span class="keyword">JOIN</span> org o <span class="keyword">ON</span> dfa.factory_org_id = o.org_id</span><br><span class="line">	<span class="keyword">JOIN</span> dealer_factory_account_product dfap <span class="keyword">ON</span> dfa.dfa_id = dfap.dfa_id </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	dfa.dealer_org_id = <span class="number">1000008</span> </span><br><span class="line">	<span class="keyword">AND</span> dfa.is_delete = <span class="number">1</span> </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">	o.org_name </span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">	dfa.account_status,</span><br><span class="line">	dfa.dfa_id <span class="keyword">ASC</span></span><br></pre></td></tr></table></figure>







<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">方式 : 微信 现金  货到付款  支付宝</span><br><span class="line"> </span><br><span class="line">类别:欠款 余额  待付  等</span><br></pre></td></tr></table></figure>





<p><strong>厂家名称</strong>  供货商厂家户头关系表 dealer_factory_account</p>
<p><strong>产地</strong>  厂家信息查询 product_factory</p>
<p><strong>对接人</strong> 厂家信息查询 product_factory</p>
<p><strong>户头数量</strong> 供货商厂家户头关系表 dealer_factory_account</p>
<p><strong>提货数量（吨）</strong> dealer_factory_account_product_record 供货商厂家户头产品记录表</p>
<p><strong>交易金额</strong> evidence_finance_summary 凭证–财务汇总</p>
<p><strong>余额（万元）</strong>供货商厂家户头关系表 dealer_factory_account</p>
<p><strong>最近调价日期</strong> adjust_price_factory_item  价格明细</p>
<p><strong>发票</strong></p>
<p>未返还金额</p>
<p>返还政策</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">	df.factory_org_id,</span><br><span class="line">	orgs.org_name,</span><br><span class="line">	orgs.city_name,</span><br><span class="line">	(</span><br><span class="line">	<span class="keyword">SELECT</span></span><br><span class="line">		dfa.first_contact_name </span><br><span class="line">	<span class="keyword">FROM</span></span><br><span class="line">		dealer_factory_account dfa </span><br><span class="line">	<span class="keyword">WHERE</span></span><br><span class="line">		dfa.dealer_org_id = <span class="number">1000008</span> </span><br><span class="line">		<span class="keyword">AND</span> dfa.factory_org_id = df.factory_org_id </span><br><span class="line">		<span class="keyword">AND</span> dfa.is_delete = <span class="number">1</span> </span><br><span class="line">		<span class="keyword">LIMIT</span> <span class="number">1</span></span><br><span class="line">	) <span class="keyword">AS</span> buttPeople,</span><br><span class="line">	</span><br><span class="line">	(</span><br><span class="line">	<span class="keyword">SELECT</span></span><br><span class="line">		<span class="built_in">count</span>( <span class="number">1</span> ) </span><br><span class="line">	<span class="keyword">FROM</span></span><br><span class="line">		dealer_factory_account dfa </span><br><span class="line">	<span class="keyword">WHERE</span></span><br><span class="line">		dfa.dealer_org_id = <span class="number">1000008</span> </span><br><span class="line">		<span class="keyword">AND</span> dfa.factory_org_id = df.factory_org_id </span><br><span class="line">		<span class="keyword">AND</span> dfa.is_delete = <span class="number">1</span> </span><br><span class="line">	<span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">		dfa.factory_org_id</span><br><span class="line">	) <span class="keyword">AS</span> amountNum,</span><br><span class="line">	</span><br><span class="line">		(</span><br><span class="line">	<span class="keyword">SELECT</span></span><br><span class="line">		<span class="built_in">sum</span>( ep.lade_weight ) </span><br><span class="line">	<span class="keyword">FROM</span></span><br><span class="line">		evidence_product ep </span><br><span class="line">	<span class="keyword">WHERE</span></span><br><span class="line">		ep.dfa_id = dfao.dfa_id</span><br><span class="line">	)<span class="keyword">AS</span> lade_weight,</span><br><span class="line">	</span><br><span class="line">		</span><br><span class="line">		(</span><br><span class="line">	<span class="keyword">SELECT</span></span><br><span class="line">		<span class="built_in">sum</span>( ep.total_product_amount ) </span><br><span class="line">	<span class="keyword">FROM</span></span><br><span class="line">		evidence_product ep </span><br><span class="line">	<span class="keyword">WHERE</span></span><br><span class="line">		ep.dfa_id = dfao.dfa_id</span><br><span class="line">	)<span class="keyword">AS</span> transAmount,</span><br><span class="line">	</span><br><span class="line">		( </span><br><span class="line">	<span class="keyword">SELECT</span></span><br><span class="line">		<span class="built_in">sum</span>( dfa.account_balance ) </span><br><span class="line">	<span class="keyword">FROM</span></span><br><span class="line">		dealer_factory_account dfa </span><br><span class="line">	<span class="keyword">WHERE</span></span><br><span class="line">		dfa.dealer_org_id = <span class="number">1000008</span> </span><br><span class="line">		<span class="keyword">AND</span> dfa.factory_org_id = df.factory_org_id </span><br><span class="line">		<span class="keyword">AND</span> dfa.is_delete = <span class="number">1</span> </span><br><span class="line">	<span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">		dfa.factory_org_id</span><br><span class="line">	) <span class="keyword">AS</span> amountMoney,</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">		(</span><br><span class="line">	<span class="keyword">SELECT</span></span><br><span class="line">	<span class="keyword">IF</span></span><br><span class="line">		( apfi.update_time = <span class="number">0</span>, apfi.create_time, apfi.update_time ) </span><br><span class="line">	<span class="keyword">FROM</span></span><br><span class="line">		adjust_price_factory_item apfi </span><br><span class="line">	<span class="keyword">WHERE</span></span><br><span class="line">		apfi.dfa_id = dfao.dfa_id </span><br><span class="line">		<span class="keyword">LIMIT</span> <span class="number">1</span></span><br><span class="line">	)<span class="keyword">AS</span> lade_weights,</span><br><span class="line">	df.is_include_tax</span><br><span class="line">	</span><br><span class="line"><span class="keyword">FROM</span> </span><br><span class="line">	dealer_factory df</span><br><span class="line">	<span class="keyword">LEFT</span> <span class="keyword">JOIN</span> org orgs <span class="keyword">ON</span> df.factory_org_id = orgs.org_id </span><br><span class="line">	<span class="keyword">left</span> <span class="keyword">join</span> dealer_factory_account dfao <span class="keyword">on</span> df.factory_org_id = dfao.factory_org_id</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	df.dealer_org_id = <span class="number">1000008</span></span><br><span class="line">	<span class="keyword">AND</span> df.is_delete = <span class="number">1</span> </span><br><span class="line">	<span class="keyword">GROUP</span> <span class="keyword">BY</span> df.factory_org_id</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">	df.factory_org_id <span class="keyword">ASC</span></span><br><span class="line">	</span><br></pre></td></tr></table></figure>



<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//总交易金额</span></span><br><span class="line">BigDecimal totalTransAmount = <span class="keyword">new</span> <span class="type">BigDecimal</span>(BigInteger.ZERO);</span><br><span class="line"><span class="comment">//总余额</span></span><br><span class="line">BigDecimal totalBalance = <span class="keyword">new</span> <span class="type">BigDecimal</span>(BigInteger.ZERO);</span><br><span class="line"><span class="comment">//总提货吨数</span></span><br><span class="line">BigDecimal totalLadeWeight = <span class="keyword">new</span> <span class="type">BigDecimal</span>(BigInteger.ZERO);</span><br></pre></td></tr></table></figure>







<p>应收帐筛选  时间问题  </p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 厂家应付帐详情信息</span></span><br><span class="line"><span class="comment">    * @param query 查询条件</span></span><br><span class="line"><span class="comment">    * @return</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   @PostMapping(&quot;/accountsFactoryDetailInfo&quot;)</span><br><span class="line">   <span class="built_in">public</span> PageResult&lt;AccountsFactoryDetailVo&gt; accountsFactoryDetailInfo(@RequestBody(required = <span class="keyword">false</span>) AccountsPayAbleQuery query) throws NoSuchMethodException &#123;</span><br><span class="line"></span><br><span class="line">       //判断厂家机构id必须符合情况</span><br><span class="line">       <span class="keyword">if</span>(query.getFactoryOrgId() == <span class="keyword">null</span> || query.getFactoryOrgId() &lt;= <span class="number">0</span>)&#123;</span><br><span class="line">           throw <span class="built_in">new</span> BizException(&quot;参数异常&quot;);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span> (query.getPageNum() != <span class="keyword">null</span> &amp;&amp; query.getPageSize() != <span class="keyword">null</span>) &#123;</span><br><span class="line">           PageHelper.startPage(query.getPageNum(), query.getPageSize());</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       //查询厂家下户头信息</span><br><span class="line">       LambdaQueryWrapper&lt;DealerFactoryAccount&gt; <span class="keyword">wrapper</span> = <span class="built_in">new</span> LambdaQueryWrapper&lt;&gt;();</span><br><span class="line">       <span class="keyword">wrapper</span>.eq(DealerFactoryAccount::getFactoryOrgId,query.getFactoryOrgId())</span><br><span class="line">               .eq(DealerFactoryAccount::getIsDelete,YesOrNoEnum.<span class="keyword">NO</span>.getValue());</span><br><span class="line"></span><br><span class="line">       List&lt;DealerFactoryAccount&gt; listVo = dealerFactoryAccountMapper.selectList(<span class="keyword">wrapper</span>);</span><br><span class="line"></span><br><span class="line">       //拼接设置返回得参数信息</span><br><span class="line">       List&lt;AccountsFactoryDetailVo.accountNameList&gt; accountNameList = <span class="built_in">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">       //设置户头名称列表信息</span><br><span class="line">       <span class="keyword">for</span>(DealerFactoryAccount item : listVo)&#123;</span><br><span class="line">           AccountsFactoryDetailVo.accountNameList at1 = <span class="built_in">new</span> AccountsFactoryDetailVo.accountNameList();</span><br><span class="line">           BeanUtils.copyBeanProp(item,at1);</span><br><span class="line">           accountNameList.<span class="keyword">add</span>(at1);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span>  <span class="keyword">null</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>







<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">	dfa.dfa_id,</span><br><span class="line">	dfa.account_name,</span><br><span class="line">	dfa.factory_org_id,</span><br><span class="line">	opc.complete_time,</span><br><span class="line">	pb.brand_name,</span><br><span class="line">	pm.cat_name_2,</span><br><span class="line">	pm.model_name,</span><br><span class="line">	opc.cost_price,</span><br><span class="line">	opc.total_weight,</span><br><span class="line">	opc.complete_total_weight,</span><br><span class="line">	op.invoice_type_id,</span><br><span class="line">	op.invoice_type_name,</span><br><span class="line">	opc.plate_no,</span><br><span class="line">	op.remarks,</span><br><span class="line">	dfa.rebate_amount</span><br><span class="line">FROM</span><br><span class="line">	dealer_factory_account dfa</span><br><span class="line">	LEFT JOIN order_product_car opc ON dfa.dfa_id = opc.dfa_id</span><br><span class="line">	LEFT JOIN order_product op ON opc.order_id = op.order_id</span><br><span class="line">	LEFT JOIN product_factory pf ON opc.pf_id = pf.pf_id</span><br><span class="line">	LEFT JOIN product_brand pb ON pf.brand_id = pb.brand_id </span><br><span class="line">	left join product_model pm on pf.pm_id = pm.pm_id</span><br><span class="line">WHERE</span><br><span class="line">	opc.is_delete = 1 </span><br><span class="line">	AND dfa.factory_org_id = 55</span><br><span class="line">ORDER BY</span><br><span class="line">	opc.complete_time DESC</span><br></pre></td></tr></table></figure>





<p>13703455370</p>
<p>1006203  15083145555</p>
<h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p>1 调度列表的用户名字和客户详情的名字显示的是不一样的 v</p>
<p>2 应付详情列表统计信息补全（上下一二三个数据是不返回的）</p>
<p>近期付款金额和时间  已返和未返金额 总交易额</p>
<p>3 应付列表信息查询筛选的时候，时间筛选不准确v</p>
<p>排查慢Sql</p>
<p>启动成功，然后提交代码</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//权限检测</span></span><br><span class="line">Long checkInt = check<span class="constructor">Permission(<span class="params">getSysUser</span>()</span>.get<span class="constructor">FixedRole()</span>,get<span class="constructor">SysUser()</span>);</span><br><span class="line"><span class="keyword">if</span>(checkInt &gt; <span class="number">0</span>)&#123;</span><br><span class="line">    query.set<span class="constructor">UserId(<span class="params">checkInt</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>发票记录vv  发票抬头vv</p>
<p>应收帐vv 供货商vv  承运商vv</p>
<p>收付款vv   订单销售单vv </p>
<p>对账 </p>
<h2 id="问题-1"><a href="#问题-1" class="headerlink" title="问题"></a>问题</h2><p>禅道BUG 部分</p>
<p>useLetterSort</p>
<p>正式列表搜索</p>
<p>1006418 </p>
<p>修改线上名称 v</p>
<p>selenium</p>
<p><a href="https://www.cnblogs.com/zhongfengshan/p/9520813.html">https://www.cnblogs.com/zhongfengshan/p/9520813.html</a></p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">productFactoryList.<span class="keyword">forEach</span>(</span><br><span class="line">    d -&gt; &#123;</span><br><span class="line">      //<span class="keyword">if</span> (!brandIds.contains(d.getBrandId())) &#123;</span><br><span class="line"></span><br><span class="line">        List&lt;<span class="type">Integer</span>&gt; listIds = <span class="built_in">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (String i : d.getBrandIds().split(&quot;,&quot;)) &#123;</span><br><span class="line">          listIds.<span class="keyword">add</span>(<span class="type">Integer</span>.parseInt(i));</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      LambdaQueryWrapper&lt;ProductBrand&gt; <span class="keyword">wrapper</span> = <span class="built_in">new</span> LambdaQueryWrapper&lt;ProductBrand&gt;();</span><br><span class="line">      <span class="keyword">wrapper</span>.<span class="keyword">in</span>(ProductBrand::getBrandId, listIds);</span><br><span class="line">      List&lt;ProductBrand&gt; orgFactory = productBrandMapper.selectList(<span class="keyword">wrapper</span>);</span><br><span class="line"></span><br><span class="line">      String listBrandName = orgFactory.stream().map(ProductBrand::getBrandName).collect(Collectors.joining(&quot;,&quot;));</span><br><span class="line"></span><br><span class="line">      d.setBrandName(listBrandName);</span><br><span class="line"></span><br><span class="line">      SelectProductBrandVO vo = <span class="built_in">new</span> SelectProductBrandVO();</span><br><span class="line">      BeanUtils.copyProperties(d, vo);</span><br><span class="line">      vos.<span class="keyword">add</span>(vo);</span><br><span class="line">      brandIds.<span class="keyword">add</span>(d.getBrandId());</span><br><span class="line">      //            &#125;</span><br><span class="line">    &#125;); </span><br><span class="line">    </span><br></pre></td></tr></table></figure>



<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml">SELECT</span></span><br><span class="line"><span class="xml">            dfa.dfa_id,</span></span><br><span class="line"><span class="xml">            dfa.account_name AS deliverName,</span></span><br><span class="line"><span class="xml">            opc.complete_time AS tradeTime,</span></span><br><span class="line"><span class="xml">            pb.brand_name,</span></span><br><span class="line"><span class="xml">            pm.cat_name_2,</span></span><br><span class="line"><span class="xml">            pm.model_name,</span></span><br><span class="line"><span class="xml">            opc.cost_price AS outFactoryPrice,</span></span><br><span class="line"><span class="xml">            opc.total_weight,</span></span><br><span class="line"><span class="xml">            opc.complete_total_weight,</span></span><br><span class="line"><span class="xml">            op.invoice_type_id,</span></span><br><span class="line"><span class="xml">            op.invoice_type_name AS invoiceTypeName,</span></span><br><span class="line"><span class="xml">            opc.plate_no AS licensePlateNumber,</span></span><br><span class="line"><span class="xml">            op.remarks,</span></span><br><span class="line"><span class="xml">            dfa.rebate_amount AS returnMoney,</span></span><br><span class="line"><span class="xml">            dfa.account_balance,</span></span><br><span class="line"><span class="xml">            ep.ep_id</span></span><br><span class="line"><span class="xml">        FROM</span></span><br><span class="line"><span class="xml">          evidence_product ep</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">          left join dealer_factory_account dfa on ep.dfa_id = dfa.dfa_id</span></span><br><span class="line"><span class="xml">                LEFT JOIN order_product_car opc ON dfa.dfa_id = opc.dfa_id</span></span><br><span class="line"><span class="xml">                LEFT JOIN order_product op ON opc.order_id = op.order_id</span></span><br><span class="line"><span class="xml">                LEFT JOIN product_factory pf ON opc.pf_id = pf.pf_id</span></span><br><span class="line"><span class="xml">                LEFT JOIN product_brand pb ON pf.brand_id = pb.brand_id</span></span><br><span class="line"><span class="xml">                left join product_model pm on pf.pm_id = pm.pm_id</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        WHERE</span></span><br><span class="line"><span class="xml">              ep.recorder_org_id = #</span><span class="template-variable">&#123;query.orgId&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">              and</span></span><br><span class="line"><span class="xml">            opc.is_delete = 1</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;query.dfaId != null and query.dfaId &gt; 0&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            AND dfa.dfa_id = #</span><span class="template-variable">&#123;query.dfaId&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;query.beginTime != null &quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            AND opc.complete_time &lt;![CDATA[&gt;=]]&gt; #</span><span class="template-variable">&#123;query.beginTime&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;query.endTime != null&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            AND opc.complete_time &lt;![CDATA[&lt;=]]&gt; #</span><span class="template-variable">&#123;query.endTime&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br><span class="line"><span class="xml">          AND opc.is_delete = 1</span></span><br><span class="line"><span class="xml">          AND op.is_delete = 1</span></span><br><span class="line"><span class="xml">            AND ep.is_delete = 1</span></span><br><span class="line"><span class="xml">            AND ep.is_checked = 0</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        ORDER BY</span></span><br><span class="line"><span class="xml">            opc.complete_time DESC</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;query.pageNum != null and query.pageSize != null&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">            LIMIT #</span><span class="template-variable">&#123;query.pageNum&#125;</span><span class="xml">,#</span><span class="template-variable">&#123;query.pageSize&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span></span><br></pre></td></tr></table></figure>







<p>SELECT<br>    dfa.dfa_id,<br>    dfa.account_name,<br>    dfa.rebate_amount AS returnMoney,<br>    dfa.account_balance,<br>    ep.ep_id,<br>    (<br>    select opc.complete_time from order_product_car opc where opc.dfa_id = dfa.dfa_id ORDER BY opc.complete_time desc LIMIT 1<br>    ) AS tradeTime,<br>    (<br>    select pb.brand_name from<br>    order_product_car opc<br>    LEFT JOIN order_product op ON opc.order_id = op.order_id<br>    LEFT JOIN product_factory pf ON opc.pf_id = pf.pf_id<br>    LEFT JOIN product_brand pb ON pf.brand_id = pb.brand_id<br>    LEFT JOIN product_model pm ON pf.pm_id = pm.pm_id<br>    where dfa.dfa_id = opc.dfa_id limit 1<br>    ) AS brand_name,<br>    (<br>    select pb.brand_name from<br>    order_product_car opc<br>    LEFT JOIN order_product op ON opc.order_id = op.order_id<br>    LEFT JOIN product_factory pf ON opc.pf_id = pf.pf_id<br>    LEFT JOIN product_brand pb ON pf.brand_id = pb.brand_id<br>    LEFT JOIN product_model pm ON pf.pm_id = pm.pm_id<br>    where dfa.dfa_id = opc.dfa_id limit 1<br>    )  AS cat_name_2,<br>    (<br>    select pb.brand_name from<br>    order_product_car opc<br>    LEFT JOIN order_product op ON opc.order_id = op.order_id<br>    LEFT JOIN product_factory pf ON opc.pf_id = pf.pf_id<br>    LEFT JOIN product_brand pb ON pf.brand_id = pb.brand_id<br>    LEFT JOIN product_model pm ON pf.pm_id = pm.pm_id<br>    where dfa.dfa_id = opc.dfa_id limit 1<br>    )  AS model_name,<br>    (<br>    select opc.cost_price from order_product_car opc where opc.dfa_id = dfa.dfa_id  LIMIT 1<br>    )  AS outFactoryPrice,<br>    (<br>    select opc.total_weight from order_product_car opc where opc.dfa_id = dfa.dfa_id  LIMIT 1<br>    ) AS totalWeight,<br>    (<br>    select opc.complete_total_weight from order_product_car opc where opc.dfa_id = dfa.dfa_id  LIMIT 1<br>    ) AS complete_total_weight,<br>    “” AS invoice_type_id,<br>    “” AS invoiceTypeName,<br>    (<br>    select opc.plate_no from order_product_car opc where opc.dfa_id = dfa.dfa_id  LIMIT 1<br>    ) AS licensePlateNumber,<br>    “” AS remarks<br>FROM<br>    evidence_product ep<br>    LEFT JOIN dealer_factory_account dfa ON ep.dfa_id = dfa.dfa_id<br>WHERE<br>    ep.recorder_org_id = 1000008<br>    AND ep.is_delete = 1<br>    AND dfa.is_delete = 1<br>    AND ep.is_checked = 0<br>    AND dfa.dfa_id &gt; 0</p>
<p>1631635200</p>
<p>1631721599</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	df.factory_org_id,</span><br><span class="line">	orgs.org_name,</span><br><span class="line">	orgs.city_name,</span><br><span class="line">	dfao.dfa_id,</span><br><span class="line">	(</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	dfa.first_contact_name </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	dealer_factory_account dfa </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	dfa.dealer_org_id = <span class="number">1000008</span> </span><br><span class="line">	<span class="keyword">AND</span> dfa.factory_org_id = df.factory_org_id </span><br><span class="line">	<span class="keyword">AND</span> dfa.is_delete = <span class="number">1</span> </span><br><span class="line">	<span class="keyword">LIMIT</span> <span class="number">1</span> </span><br><span class="line">	) <span class="keyword">AS</span> buttPeople,</span><br><span class="line">	(</span><br><span class="line">	<span class="keyword">select</span> ep.lade_weight <span class="keyword">from</span> evidence_product ep <span class="keyword">where</span> ep.seller_org_id = df.factory_org_id</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">AND</span> ep.is_delete = <span class="number">1</span> </span><br><span class="line">	<span class="keyword">AND</span> ep.is_checked = <span class="number">0</span></span><br><span class="line"><span class="keyword">limit</span> <span class="number">1</span></span><br><span class="line">	)<span class="keyword">AS</span> ladelWeight,</span><br><span class="line">		(</span><br><span class="line">	<span class="keyword">select</span> ep.total_product_amount <span class="keyword">from</span> evidence_product ep <span class="keyword">where</span> ep.seller_org_id = df.factory_org_id</span><br><span class="line">	<span class="keyword">and</span> ep.is_delete = <span class="number">1</span> <span class="keyword">and</span> ep.is_checked = <span class="number">0</span></span><br><span class="line">	<span class="keyword">limit</span> <span class="number">1</span></span><br><span class="line">	)<span class="keyword">AS</span> totalProductAmount,</span><br><span class="line">			(</span><br><span class="line">	<span class="keyword">select</span> ep.product_price <span class="keyword">from</span> evidence_product ep <span class="keyword">where</span> ep.seller_org_id = df.factory_org_id</span><br><span class="line">		<span class="keyword">and</span> ep.is_delete = <span class="number">1</span> <span class="keyword">and</span> ep.is_checked = <span class="number">0</span></span><br><span class="line">		<span class="keyword">limit</span> <span class="number">1</span></span><br><span class="line">	)<span class="keyword">AS</span> productPrice,</span><br><span class="line">	</span><br><span class="line">	(</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	<span class="built_in">count</span>( <span class="number">1</span> ) </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	dealer_factory_account dfa </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	dfa.dealer_org_id = <span class="number">1000008</span> </span><br><span class="line">	<span class="keyword">AND</span> dfa.factory_org_id = df.factory_org_id </span><br><span class="line">	<span class="keyword">AND</span> dfa.is_delete = <span class="number">1</span> </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">	dfa.factory_org_id </span><br><span class="line">	) <span class="keyword">AS</span> amountNum,</span><br><span class="line">	(</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	<span class="built_in">sum</span>( dfa.account_balance ) </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	dealer_factory_account dfa </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	dfa.dealer_org_id = <span class="number">1000008</span> </span><br><span class="line">	<span class="keyword">AND</span> dfa.factory_org_id = df.factory_org_id </span><br><span class="line">	<span class="keyword">AND</span> dfa.is_delete = <span class="number">1</span> </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">	dfa.factory_org_id </span><br><span class="line">	) <span class="keyword">AS</span> amountMoney,</span><br><span class="line">	<span class="built_in">ifnull</span>( <span class="keyword">IF</span> ( apfi.update_time = <span class="number">0</span>, apfi.create_time, apfi.update_time ), <span class="number">0</span> ) <span class="keyword">AS</span> recentPrice,</span><br><span class="line">	df.is_include_tax </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	dealer_factory df</span><br><span class="line">	<span class="keyword">LEFT</span> <span class="keyword">JOIN</span> org orgs <span class="keyword">ON</span> df.factory_org_id = orgs.org_id</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">LEFT</span> <span class="keyword">JOIN</span> dealer_factory_account dfao <span class="keyword">ON</span> df.factory_org_id = dfao.factory_org_id</span><br><span class="line">	<span class="keyword">left</span> <span class="keyword">join</span> evidence_product eps <span class="keyword">on</span> eps.dfa_id = dfao.dfa_id</span><br><span class="line">	<span class="keyword">LEFT</span> <span class="keyword">JOIN</span> adjust_price_factory_item apfi <span class="keyword">ON</span> apfi.dfa_id = dfao.dfa_id </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">	df.dealer_org_id = <span class="number">1000008</span> </span><br><span class="line">	<span class="keyword">AND</span> df.is_delete = <span class="number">1</span> </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">	df.factory_org_id </span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">	df.factory_org_id <span class="keyword">ASC</span></span><br></pre></td></tr></table></figure>





<p>供货商厂家 时间查询问题 </p>
<p>跳转ep_id问题 v</p>
<p>修改期末余额不生效得问题</p>
<p>详情信息查询户头得时候 需要查询户头表的信息</p>
<p>343</p>
<p>ep交易记录信息</p>
<p>dfa户头信息</p>
<p>厂家下  所有户头的统计信息 .</p>
<p>时间查询问题</p>
<p>/order/order/dealersOrderInfo<br>/order/orderTransportCar/listDealersTransportCar</p>
<h3 id="客户-给项目新增产品的时候-品牌的列出效果"><a href="#客户-给项目新增产品的时候-品牌的列出效果" class="headerlink" title="客户 给项目新增产品的时候 品牌的列出效果"></a>客户 给项目新增产品的时候 品牌的列出效果</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">ServiceProductQuery serviceProductQuery = <span class="built_in">new</span> ServiceProductQuery();</span><br><span class="line">           BeanUtils.copyProperties(query, serviceProductQuery);</span><br><span class="line">           serviceProductQuery.setOrgToOrgSellProductIsEnable(YesOrNoEnum.YES.getValue());</span><br><span class="line">           productFactoryList = productFactoryService.selectProductByOrgToOrgSellProduct(serviceProductQuery);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">           List&lt;SelectProductBrandVO&gt; vos = <span class="built_in">new</span> ArrayList&lt;&gt;(productFactoryList.size());</span><br><span class="line"></span><br><span class="line">           <span class="keyword">if</span>(productFactoryList.size() &lt;= <span class="number">0</span>)&#123;</span><br><span class="line">               throw <span class="built_in">new</span> BizException(&quot;查询结果为空&quot;);</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           List&lt;Long&gt; brandIds = <span class="built_in">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">           String listIdsStr = &quot;&quot;;</span><br><span class="line"></span><br><span class="line">           <span class="keyword">if</span>(productFactoryList != <span class="keyword">null</span> &amp;&amp; productFactoryList.size() &gt; <span class="number">0</span>)&#123;</span><br><span class="line">               listIdsStr = productFactoryList.<span class="keyword">get</span>(<span class="number">0</span>).getBrandIds();</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           List&lt;<span class="type">Integer</span>&gt; listIds = <span class="built_in">new</span> ArrayList&lt;&gt;();</span><br><span class="line">           <span class="keyword">for</span> (String i : listIdsStr.split(&quot;,&quot;)) &#123;</span><br><span class="line">               listIds.<span class="keyword">add</span>(<span class="type">Integer</span>.parseInt(i));</span><br><span class="line">           &#125;</span><br><span class="line">           LambdaQueryWrapper&lt;ProductBrand&gt; <span class="keyword">wrapper</span> = <span class="built_in">new</span> LambdaQueryWrapper&lt;ProductBrand&gt;();</span><br><span class="line">           <span class="keyword">wrapper</span>.<span class="keyword">in</span>(ProductBrand::getBrandId, listIds);</span><br><span class="line">           List&lt;ProductBrand&gt; orgFactory = productBrandMapper.selectList(<span class="keyword">wrapper</span>);</span><br><span class="line"></span><br><span class="line">         <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; orgFactory.size(); i++) &#123;</span><br><span class="line">          //</span><br><span class="line">             SelectProductBrandVO vo = <span class="built_in">new</span> SelectProductBrandVO();</span><br><span class="line">             BeanUtils.copyProperties(orgFactory.<span class="keyword">get</span>(i), vo);</span><br><span class="line">             vo.setOrgId(getOrgId());</span><br><span class="line">             vo.setOrgName(getSysUser().getCustomOrgName());</span><br><span class="line">             vos.<span class="keyword">add</span>(vo);</span><br><span class="line">             brandIds.<span class="keyword">add</span>(orgFactory.<span class="keyword">get</span>(i).getBrandId());</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">           PageResult&lt;SelectProductBrandVO&gt; pageResult = getPageResult(vos);</span><br><span class="line"></span><br><span class="line">           <span class="keyword">return</span> pageResult;</span><br></pre></td></tr></table></figure>





<p>侯依晨说的问题 v</p>
<p>/evidence/payable/accountsFactoryDetailInfo这个接口你需要改下，单独把户头列表的分出来</p>
<p>马帅说的问题 v</p>
<p>/evidence/payable/accountsFactoryPayAble  调价时间报错  changeTime</p>
<p>供货商端 添加产品 品牌厂家列表 不能列出所有的品牌信息x</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="regexp">//gi</span>thub.com<span class="regexp">/geeeeeeeeek/</span>electronic-wechat.git</span><br></pre></td></tr></table></figure>



<p>bug 1794 确BUG内容</p>
<p>15981986614</p>
<p>18158835315    关宁 张军</p>
<p>18164345555  杨超</p>
<p><strong>1,业务员新增的发票记录能够审核成功 v</strong> </p>
<p>eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6IjJhZGI1MTY5LTQxNmUtNDA5Ny1iOWE2LTUxMTM1YzYxZWU4OCJ9.7psXdXxakqnUOlLMEg9-SPXL2TN5tMUr_LqfNdcIIGnjHwx6s621g1huR1poDGCewLCd-B3rYzbVFezQRIxk1Q</p>
<p>添加用户为 李嘉林 18237897851  1000049 user    1000008 org</p>
<p>被添加用户是 李金龙 13781165611。</p>
<p>绑定关系申请接口</p>
<p>/cooperation/applyBind</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">&quot;productQuotations&quot;</span>:[],</span><br><span class="line"><span class="attr">&quot;tagIds&quot;</span>:[],</span><br><span class="line"><span class="attr">&quot;mobile&quot;</span>:<span class="string">&quot;13781165611&quot;</span>,</span><br><span class="line"><span class="attr">&quot;remarkName&quot;</span>:<span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;userId&quot;</span>:<span class="number">977892</span>,</span><br><span class="line"><span class="attr">&quot;orgId&quot;</span>:<span class="number">977894</span>,</span><br><span class="line"><span class="attr">&quot;secondContactTel&quot;</span>:<span class="string">&quot;&quot;</span>,</span><br><span class="line"><span class="attr">&quot;orgType&quot;</span>:<span class="string">&quot;CUSTOMER&quot;</span>,</span><br><span class="line"><span class="attr">&quot;firstContactTel&quot;</span>:<span class="string">&quot;13781165611&quot;</span>,</span><br><span class="line"><span class="attr">&quot;remarks&quot;</span>:<span class="string">&quot;恩恩恩温暖\n&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>客户端查看绑定关系的部分</p>
<p>/cooperation/listCooperationOrg</p>
<p>712</p>
<p>为了防止 机构下的业务员和机构本身申请客户，客户显示名称错误问题出现</p>
<p>这里需要处理两种情况（两者都是基于用户表来进行操作的）</p>
<p>1、是机构</p>
<p>取字段的顺序为</p>
<p>custom_org_name </p>
<p>custom_org_short_name</p>
<p>nick_name </p>
<p>user_name</p>
<p>2、是机构下的业务员</p>
<p>取字段的顺序为</p>
<p>nick_name  user_name</p>
<h3 id="名称问题笔记"><a href="#名称问题笔记" class="headerlink" title="名称问题笔记"></a>名称问题笔记</h3><p>客户端供货商列表显示的 名称的问题 x</p>
<p>上下显示两个文本  确定是显示什么内容x</p>
<p>供货商管理员进入首页后没有默认的图标展示，查看原因（没得问题）v</p>
<p>订单新增失败的原因 是因为使用生成唯一标识的时候出现的问题</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">EvidenceTransactionServiceImpl</span></span><br></pre></td></tr></table></figure>

<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">CustomIdGenerator</span></span><br></pre></td></tr></table></figure>



<p>sysuser 新增用户（业务员）的时候 需要把第一联系人名字和第一联系人电话字段给加上内容</p>
<p> warn old lockfile The package-lock.json file was created with an old version of npm,<br>30 warn old lockfile so supplemental metadata must be fetched from the registry.<br>30 warn old lockfile<br>30 warn old lockfile This is a one-time fix-up, please be patient…<br>31 timing npm Completed in 2527ms</p>
<p>客户申请供货商</p>
<p>客户 李普山 13253550000 58479613 org    57035228 user</p>
<p>供货商 李嘉林 18237897851 1000049 user    1000008 org</p>
<p>供货商后台管理账户 有很多业务员的哪个</p>
<p>13838001606  123465</p>
<p>1815的bug</p>
<p>13253551112 吕</p>
<p>bug 1791  出现请先报价的原因在于  在合作价格表中 没有查到价格信息 所以需要先进行报价 这里需要确认的地方是 逻辑是怎么样的     org_to_org_sell_product_price </p>
<p>不是买家必须要有报价</p>
<p>/order/orderPack/addOrderPack</p>
<p>/cooperation/transActionSupplierInfoOneV2</p>
<p>cooUserIds 需要把这个字段 修改为 cooUserId 并且修改为int类型 x</p>
<p>客户端 查询卸货车数和吨数的接口</p>
<p>/finance/customer/tradeStatistics</p>
<p>供货商 查询卸货车数和吨数的接口</p>
<p>/evidence/transaction/transactionStatistics</p>
<p>/quotation/quotation/getListModelInfo  这个接口不应该返回最近5天的数据吗?  一家伙返回了7天的数据</p>
<p>过滤掉 upOrDownPrice和totalPrice都为0的数据</p>
<p>项目 详情 卸货列表 卸货数据重复（大概是重复了一份）</p>
<p>/evidence/transaction/transactionStatistics</p>
<p>/evidence/summary/getBalance  </p>
<p>/finance/customer/getBalance</p>
<hr>
<p>数量统计接口</p>
<p>/evidence/transaction/transactionStatistics</p>
<p>totalDeliverCarCount 卸货车数 </p>
<p>totalDeliverWeight 卸货数量 </p>
<p>totalDiffWeight 亏吨数量 </p>
<p>totalAmount 交易金额</p>
<p>totalLadeWeight 总提货吨数(出厂吨数) </p>
<p>totalLadeAmount 出厂总金额</p>
<p>财务统计接口</p>
<p>/evidence/summary/getBalance</p>
<p>amount 余额</p>
<p>发票统计接口</p>
<p>/invoice/record/getInvoiceStatistics</p>
<p>invoicedAmount       实开发票<br>unbilledAmount    待开发票<br>totalInvoiceAmount    发票金额</p>
<p>57035232 楠_客户 _23 机构id</p>
<p>57035233 楠_供货商 _24 机构id</p>
<p>983010 陈洋 983222 机构id 客户</p>
<p>983230 陈洋 983264 机构id 供货商 属于中恒供应链</p>
<p>/evidence/evidenceProductTransport/getUnloadPointListV2</p>
<p>获取卸货列表统计信息</p>
<p>YK211015SD97766</p>
<p>客户端 供货商详情 这个车数显示的是 当前用户在这个项目下了多少车对吧</p>
<hr>
<p>供货商端 客户 卸货列表 数据重复 </p>
<p>财务统计  交易流水部分显示的项目信息太多</p>
<p>客户供货商详情 显示 卸货车数有十车  但是点进去只能查看到7车 </p>
<p>是因为 有三个是流转单 流转单信息也要查询出来</p>
<p>供货商流转单</p>
<p>订单id 62</p>
<p>订单编号 后五位 97766</p>
<p>流转给供货商订单号 </p>
<p>后五位 82260</p>
<p>客户 供货商详情 项目 卸货车数接口</p>
<p>/cooperation/transActionSupplierInfoOneV2</p>
<p>供货商端 客户 项目 项目详情 取消一车</p>
<p>/order/orderTransportCar/cancelCar</p>
<p>现在情况是 无法取消未派车</p>
<p>获取未派车数据</p>
<p>eyJhbGciOiJIUzUxMiJ9.eyJsb2dpbl91c2VyX2tleSI6ImQ5MWQxMjIyLWMzYTYtNGYxOS1hNTU4LTQ5YzQxMThkYzAyNCJ9.fzEqcUUE6IGn8Z2xht7m60Du1hl6hUWdDYaYz1_TOCv5ZAFLQQUe8QGImIinnGfAMsUrvJTT7yjZkaD7UDw54A</p>
<p>/order/orderPack/getSiteUnAllotData</p>
<p>?</p>
<p>siteId=1001291</p>
<p>&amp;</p>
<p>buyerOrSeller=2</p>
<p>拿到了未派车数据</p>
<p>carNum: 3</p>
<p>weight: 62</p>
<p>卸货车数</p>
<p>/finance/customer/tradeStatistics</p>
<p>39299 - 39304</p>
<p>销项 机构id和销项相对应就是销项 </p>
<p>进项 机构id和销项不对应就是进项 </p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 取消未派车</span></span><br><span class="line"><span class="comment">     * @param form 取消信息</span></span><br><span class="line"><span class="comment">     * @param orgId 当前机构id</span></span><br><span class="line"><span class="comment">     * @param userId 当前用户id</span></span><br><span class="line"><span class="comment">     * @return</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    @<span class="constructor">Transactional(<span class="params">rollbackFor</span> = Exception.<span class="params">class</span>)</span></span><br><span class="line">    @Override</span><br><span class="line">    public boolean cancel<span class="constructor">UnSendCar(CancelCarForm <span class="params">form</span>, Long <span class="params">orgId</span>, Long <span class="params">userId</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">        Long orderId = form.get<span class="constructor">OrderId()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//取消未派车辆的时候不需要进行车辆的存在检测</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="module-access"><span class="module"><span class="identifier">CollUtil</span>.</span></span>is<span class="constructor">Empty(<span class="params">form</span>.<span class="params">getOrderCarRelationIds</span>()</span>)) &#123;</span><br><span class="line">            <span class="keyword">if</span>(form.get<span class="constructor">CancelType()</span> != <span class="number">2</span>)&#123;</span><br><span class="line">                throw <span class="keyword">new</span> <span class="constructor">BizException(<span class="string">&quot;请选择车辆&quot;</span>)</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        List&lt;Long&gt; listIds = <span class="keyword">new</span> ArrayList&lt;&gt;<span class="literal">()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//查询所有未取消得车辆，并取消一辆（取消最后新增得那辆车）</span></span><br><span class="line">        <span class="keyword">if</span>(form.get<span class="constructor">CancelType()</span><span class="operator"> == </span><span class="number">2</span>)&#123;</span><br><span class="line">            OrderBaseQuery query = <span class="keyword">new</span> <span class="constructor">OrderBaseQuery()</span>;</span><br><span class="line">            query.set<span class="constructor">SiteId(<span class="params">form</span>.<span class="params">getSiteId</span>()</span>);</span><br><span class="line">            query.set<span class="constructor">OrgId(<span class="params">orgId</span>)</span>;</span><br><span class="line">            query.set<span class="constructor">OrderStatusList(Collections.<span class="params">singletonList</span>(OrderStatusEnum.UNDERWAY.<span class="params">getValue</span>()</span>));</span><br><span class="line">            query.set<span class="constructor">BuyerOrSeller(BuyerOrSellerEnum.SELLER)</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 查询所有符合条件的进行中的订单(进行中的订单&lt;20&gt;)</span></span><br><span class="line">            List&lt;OrderPackSiteProductDTO&gt; <span class="built_in">list</span> = orderPackSiteProductService.select<span class="constructor">OrderSiteAndProductInfo(<span class="params">query</span>)</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//获取进行中订单的订单ids</span></span><br><span class="line">            List&lt;Long&gt; orderIds = <span class="built_in">list</span>.stream<span class="literal">()</span>.map(OrderPackSiteProductDTO::getOrderId).collect(<span class="module-access"><span class="module"><span class="identifier">Collectors</span>.</span></span><span class="keyword">to</span><span class="constructor">List()</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 查询订单的派车数据（订单车辆信息关联关系）</span></span><br><span class="line">            List&lt;OrderCarCountDTO&gt; carCountList = orderCarRelationService.select<span class="constructor">CarCountByOrderIdsGroupByCarStatus(<span class="params">orderIds</span>)</span>;</span><br><span class="line"></span><br><span class="line">            listIds = carCountList.stream<span class="literal">()</span>.map(OrderCarCountDTO::getOrderCarRelationId).collect(<span class="module-access"><span class="module"><span class="identifier">Collectors</span>.</span></span><span class="keyword">to</span><span class="constructor">List()</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">            //totalCar,就是为派车数量</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            // 修改结果</span></span><br><span class="line"><span class="comment">            long now = DateUtil.currentSeconds();</span></span><br><span class="line"><span class="comment">            OrderCarRelation update = new OrderCarRelation();</span></span><br><span class="line"><span class="comment">            update.setUpdateTime(now);</span></span><br><span class="line"><span class="comment">            update.setTransportCarStatus(OrderTransportCarStatusEnum.CANCELLED.getValue());</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            if(carCountList  != null &amp;&amp;  carCountList.size() &gt; 0)&#123;</span></span><br><span class="line"><span class="comment">                // 修改关联信息状态</span></span><br><span class="line"><span class="comment">                orderCarRelationService.updateRelationByOtcId(carCountList.get(0).getOtcId(), update);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            return  true;*/</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        List&lt;Long&gt; orderCarRelationIds = <span class="keyword">new</span> ArrayList&lt;&gt;<span class="literal">()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(listIds != null<span class="operator"> &amp;&amp; </span>listIds.size<span class="literal">()</span> &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            orderCarRelationIds = listIds;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            orderCarRelationIds = form.get<span class="constructor">OrderCarRelationIds()</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        List&lt;OrderCarRelation&gt; orderCarRelationsBak = <span class="keyword">new</span> ArrayList&lt;&gt;<span class="literal">()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//订单车辆的合作信息</span></span><br><span class="line">        List&lt;OrderCarRelation&gt; orderCarRelations = <span class="keyword">new</span> ArrayList&lt;&gt;<span class="literal">()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; listIds.size<span class="literal">()</span>; i++) &#123;</span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">            orderCarRelationsBak = orderCarRelationService.<span class="built_in">list</span><span class="constructor">ByIds(Arrays.<span class="params">asList</span>(<span class="params">orderCarRelationIds</span>.<span class="params">get</span>(<span class="params">i</span>)</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(orderCarRelationsBak.size<span class="literal">()</span> &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="module-access"><span class="module"><span class="identifier">OrderTransportCarStatusEnum</span>.</span><span class="module"><span class="identifier">CANCELLED</span>.</span></span>get<span class="constructor">Value()</span>.equals(orderCarRelationsBak.get(<span class="number">0</span>).get<span class="constructor">TransportCarStatus()</span>)) &#123;</span><br><span class="line">                    continue;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!<span class="module-access"><span class="module"><span class="identifier">OrderTransportCarStatusEnum</span>.</span><span class="module"><span class="identifier">UN_ALLOT</span>.</span></span>get<span class="constructor">Value()</span>.equals(orderCarRelationsBak.get(<span class="number">0</span>).get<span class="constructor">TransportCarStatus()</span>)) &#123;</span><br><span class="line">                    continue;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    orderCarRelations.add(orderCarRelationsBak.get(<span class="number">0</span>));</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//List&lt;OrderCarRelation&gt; orderCarRelations = orderCarRelationService.listByIds(orderCarRelationIds);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 修改结果</span></span><br><span class="line">        long now = <span class="module-access"><span class="module"><span class="identifier">DateUtil</span>.</span></span>current<span class="constructor">Seconds()</span>;</span><br><span class="line">        OrderCarRelation update = <span class="keyword">new</span> <span class="constructor">OrderCarRelation()</span>;</span><br><span class="line">        update.set<span class="constructor">UpdateTime(<span class="params">now</span>)</span>;</span><br><span class="line">        update.set<span class="constructor">TransportCarStatus(OrderTransportCarStatusEnum.CANCELLED.<span class="params">getValue</span>()</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        Integer orderTransportCarStatus = null;</span><br><span class="line"></span><br><span class="line">        OrderTransportCar orderTransportCar = <span class="keyword">new</span> <span class="constructor">OrderTransportCar()</span>;</span><br><span class="line">        orderTransportCar.set<span class="constructor">UpdateTime(<span class="params">now</span>)</span>;</span><br><span class="line">        orderTransportCar.set<span class="constructor">Status(OrderTransportCarStatusEnum.CANCELLED.<span class="params">getValue</span>()</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (OrderCarRelation orderCarRelation : orderCarRelations) &#123;</span><br><span class="line">            orderTransportCarStatus = orderCarRelation.get<span class="constructor">TransportCarStatus()</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="module-access"><span class="module"><span class="identifier">OrderTransportCarStatusEnum</span>.</span><span class="module"><span class="identifier">CANCELLED</span>.</span></span>get<span class="constructor">Value()</span>.equals(orderTransportCarStatus)) &#123;</span><br><span class="line">                throw <span class="keyword">new</span> <span class="constructor">BizException(<span class="string">&quot;车辆已取消&quot;</span>)</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!<span class="module-access"><span class="module"><span class="identifier">OrderTransportCarStatusEnum</span>.</span><span class="module"><span class="identifier">UN_ALLOT</span>.</span></span>get<span class="constructor">Value()</span>.equals(orderTransportCarStatus)) &#123;</span><br><span class="line">                throw <span class="keyword">new</span> <span class="constructor">BizException(<span class="string">&quot;车辆已派车, 请联系运输公司取消&quot;</span>)</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 修改关联信息状态</span></span><br><span class="line">            orderCarRelationService.update<span class="constructor">RelationByOtcId(<span class="params">orderCarRelation</span>.<span class="params">getOtcId</span>()</span>, update);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//修改派车单状态</span></span><br><span class="line">            orderTransportCar.set<span class="constructor">OtcId(<span class="params">orderCarRelation</span>.<span class="params">getOtcId</span>()</span>);</span><br><span class="line">            orderTransportCarService.update<span class="constructor">ById(<span class="params">orderTransportCar</span>)</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 查询所有相关订单</span></span><br><span class="line">            List&lt;Order&gt; orders = orderService.<span class="built_in">list</span><span class="constructor">OrderByOtcId(<span class="params">orderCarRelation</span>.<span class="params">getOtcId</span>()</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 修改订单总车数和总吨数</span></span><br><span class="line">            <span class="keyword">for</span> (Order order : orders) &#123;</span><br><span class="line">                orderService.update<span class="constructor">OrderTotalCarAndWeight(<span class="params">order</span>.<span class="params">getOrderType</span>()</span>, order.get<span class="constructor">OrderId()</span>, null, null, -<span class="number">1</span>, <span class="keyword">new</span> <span class="constructor">BigDecimal(<span class="params">orderCarRelation</span>.<span class="params">getCarType</span>()</span>).negate<span class="literal">()</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        return <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h2 id="BUG"><a href="#BUG" class="headerlink" title="BUG"></a>BUG</h2><p>bug 1815 取不到名字 或者为乱码 怎么搞</p>
<p>95 99 118 128</p>
<p>供货商 -》运输-》运输接单派单（为了判断查询车辆到底是不是只查询状态为1得）</p>
<p>if else 判断</p>
<h3 id="代办"><a href="#代办" class="headerlink" title="代办"></a>代办</h3><p>BUG 1844</p>
<p>这些查询到得数据库里得信息是字符串  要怎么处理</p>
<h5 id="地址"><a href="#地址" class="headerlink" title="地址"></a>地址</h5><p>不是虚拟地址的话，直接就是一个真实的项目包含地址</p>
<h5 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h5><p>备注模板需要新建一个表</p>
<h5 id="报价"><a href="#报价" class="headerlink" title="报价"></a>报价</h5><p>下面这俩表是同步的（但是修改的是  只修改报价申请表的主表 不修改原始记录表）</p>
<p>报价申请表                         quotation_apply_original</p>
<p>报价申请原始记录主表  quotation_apply_original</p>
<p>quotation_apply_detail                    报价申请明细表</p>
<p>quotation_apply_detail_original   报价申请明细表原始记录表</p>
<p>客户 -》申请报价 -》报价申请表</p>
<p>供货商-》处理报价-》报价申请明细表</p>
<p>产品包装和品牌必选 型号不限</p>
<p>产品包装和品牌可以不限 型号必选</p>
<hr>
<p>报价模板备注信息申请表逻辑v</p>
<p>限制条数 十条 在redis中新增条数限制配置 v</p>
<p>需要把数据库文件更新到服务器 v</p>
<p>查询列表 查询单个详情 完成 v</p>
<p>新增的时候 就单纯是新增 v</p>
<hr>
<p>需要在报价申请表增加 模板id一个选项</p>
<p>查询列表没有数据的话 默认生成逻辑还没有生成</p>
<h5 id="报价模板相关接口位置"><a href="#报价模板相关接口位置" class="headerlink" title="报价模板相关接口位置"></a>报价模板相关接口位置</h5><p>/quotation/template</p>
<h5 id="新建申请接口"><a href="#新建申请接口" class="headerlink" title="新建申请接口"></a>新建申请接口</h5><p>/quotation/quotationApply/buyerApplyQuotation</p>
<p>新建询价单的时候 参考上面哪个接口</p>
<p>虚拟地址 和报价申请表是关联起来的</p>
<p>虚拟地址要新增一个虚拟地址表 然后关联</p>
<p>新建地址的时候 可以使用固有的接口来新增项目</p>
<p>新增的条目使用 字符串数组的形式新增</p>
<h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><p>询价常用地址列表</p>
<p>/org/site/orgAddressListForInquiry</p>
<p>新增询价地址</p>
<p>/org/site/addOrgSite</p>
<p>询价地址修改</p>
<p>/org/site/updateSiteAddressForInquiry</p>
<p>需要新增的字段</p>
<p>询价单名称</p>
<p>quotation_apply_name</p>
<p>新</p>
<p>发票类型   不含票 含发票</p>
<p>预计用量 长期 填写吨数</p>
<p>付款方式 预先付款 货到付款 垫资付款</p>
<p>旧</p>
<p>发票类型   不含票 一票制</p>
<p>预计用量 长期 填写吨数</p>
<p>付款方式 预先付款 货到付款 月结 吨结 金额结 v </p>
<p>新增俩字段 垫资额度和垫资的类别（天月吨） v</p>
<p>新增字段增加 v</p>
<p>bug修改 v</p>
<p>地址部分确认</p>
<p>临时地址id要在报价表里新增v</p>
<p>临时地址地 接口文档 v</p>
<p>常用地址加字段  provinceName cityName  areaName  v</p>
<p>标识是否是常用临时地址 字段  v</p>
<p>wget -c -r -np -k -L -p  <a target="_blank" rel="noopener" href="https://wiki.skullsecurity.org/index.php/Passwords">https://wiki.skullsecurity.org/index.php/Passwords</a></p>
<p>hexo</p>
<p>txui</p>
<p>awesome-console-services[41]该仓库收集各种供命令行使用的外部服务</p>
<p>awesome-console-services: <em><a target="_blank" rel="noopener" href="https://github.com/chubin/awesome-console-services">https://github.com/chubin/awesome-console-services</a></em></p>
<p>awesome-metaverse[43]该仓库收集元宇宙相关资源。</p>
<p>awesome-metaverse: <em><a target="_blank" rel="noopener" href="https://github.com/shadowcz007/awesome-metaverse">https://github.com/shadowcz007/awesome-metaverse</a></em></p>
<p>微图[33]</p>
<p>微图: <em><a target="_blank" rel="noopener" href="https://devtool.tech/tiny-image">https://devtool.tech/tiny-image</a></em></p>
<p>Sway[32]</p>
<p>Sway: <em><a target="_blank" rel="noopener" href="https://swaywm.org/">https://swaywm.org/</a></em></p>
<p>fleek[23]</p>
<p>fleek: <em><a target="_blank" rel="noopener" href="https://fleek.co/">https://fleek.co/</a></em></p>
<p>Waydroid[22]</p>
<p>Waydroid: <em><a target="_blank" rel="noopener" href="https://waydro.id/">https://waydro.id/</a></em></p>
<p>ADS-B 信号不能对境外提供[15]（中文）</p>
<p> <em><a target="_blank" rel="noopener" href="https://www.guancha.cn/ZhangZhongZuo/2021_11_03_613334.shtml">https://www.guancha.cn/ZhangZhongZuo/2021_11_03_613334.shtml</a></em></p>
<p>context-note[29]</p>
<p> context-note: <em><a target="_blank" rel="noopener" href="https://github.com/betterRunner/context-note">https://github.com/betterRunner/context-note</a></em></p>
<p>APIAuto[31]</p>
<p> APIAuto: <em><a target="_blank" rel="noopener" href="https://github.com/TommyLemon/APIAuto">https://github.com/TommyLemon/APIAuto</a></em></p>
<p>Kill the Newsletter![36]</p>
<p> Kill the Newsletter!: <em><a target="_blank" rel="noopener" href="https://github.com/leafac/kill-the-newsletter">https://github.com/leafac/kill-the-newsletter</a></em></p>
<p>树莓派家用服务器搭建指南[43]</p>
<p>树莓派家用服务器搭建指南: <em><a target="_blank" rel="noopener" href="https://github.com/zhaoolee/pi">https://github.com/zhaoolee/pi</a></em></p>
<p>英特尔处理器博物馆[45]</p>
<p> 英特尔处理器博物馆: <em><a target="_blank" rel="noopener" href="https://www.mynikko.com/CPU/">https://www.mynikko.com/CPU/</a></em></p>
<p>去中心化图书馆[49]</p>
<p>去中心化图书馆: <em><a target="_blank" rel="noopener" href="https://libgen.fun/dweb.html">https://libgen.fun/dweb.html</a></em></p>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/nanstar/">主页</a></li>
         
          <li><a href="/nanstar/about/">关于</a></li>
         
          <li><a href="/nanstar/archives/">文章</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://gitee.com/nanstar">项目</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9C%80%E8%A6%81%E5%86%99%E7%9A%84%E6%8E%A5%E5%8F%A3%E9%83%A8%E5%88%86"><span class="toc-number">1.</span> <span class="toc-text">需要写的接口部分</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Temp"><span class="toc-number"></span> <span class="toc-text">Temp</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">0.1.</span> <span class="toc-text">注意事项</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%9C%E4%B8%9A%E5%88%97%E8%A1%A8"><span class="toc-number">0.2.</span> <span class="toc-text">作业列表</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E5%8F%91%E7%A5%A8%E6%8A%AC%E5%A4%B4%E5%88%A0%E9%99%A4%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E9%9C%80%E8%A6%81%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E5%9C%A8%E5%8F%91%E7%A5%A8%E5%88%97%E8%A1%A8%E4%B8%AD%E8%A2%AB%E4%BD%BF%E7%94%A8%EF%BC%8C%E8%A2%AB%E4%BD%BF%E7%94%A8%E4%BA%86%E7%9A%84%E8%AF%9D%EF%BC%8C%E5%B0%B1%E5%B8%83%E4%B8%8D%E5%8F%AF%E4%BB%A5%E6%89%A7%E8%A1%8C%E5%88%A0%E9%99%A4%E6%93%8D%E4%BD%9C-v"><span class="toc-number">0.2.1.</span> <span class="toc-text">1、发票抬头删除的时候，需要判断是否在发票列表中被使用，被使用了的话，就布不可以执行删除操作   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E5%8F%91%E7%A5%A8%E6%8A%AC%E5%A4%B4%E9%9C%80%E8%A6%81%E8%AE%A1%E7%AE%97%E8%A1%8C%E5%86%85%E5%8F%91%E7%A5%A8%E9%87%91%E9%A2%9D%EF%BC%8C%E5%92%8C%E6%80%BB%E9%87%91%E9%A2%9D-%E5%8F%91%E7%A5%A8%E8%AE%B0%E5%BD%95%E8%A1%A8%E9%87%8C%E9%9D%A2%E7%9A%84-v"><span class="toc-number">0.2.2.</span> <span class="toc-text">2、发票抬头需要计算行内发票金额，和总金额 发票记录表里面的   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%E3%80%81%E6%9C%AC%E6%9C%BA%E6%9E%84%E5%8F%91%E7%A5%A8%E5%8F%B7%E7%A0%81%E4%B8%8D%E5%8F%AF%E4%BB%A5%E9%87%8D%E5%A4%8D-v"><span class="toc-number">0.2.3.</span> <span class="toc-text">3、本机构发票号码不可以重复   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4%E3%80%81%E5%8F%91%E7%A5%A8%E5%8F%B7%E7%A0%81%E3%80%81%E5%AE%A1%E6%A0%B8%E6%97%B6%E9%97%B4%E4%BD%9C%E4%B8%BA%E6%9F%A5%E8%AF%A2%E5%85%A5%E5%8F%82-v"><span class="toc-number">0.2.4.</span> <span class="toc-text">4、发票号码、审核时间作为查询入参   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5%E3%80%81%E7%99%BB%E8%AE%B0%E7%9A%84%E6%97%B6%E5%80%99%E5%8F%91%E7%A5%A8%E4%BB%A3%E5%BC%80%E6%8E%A5%E5%8F%A3%EF%BC%88%E6%8A%8A%E5%87%A0%E4%B8%AA%E4%B8%9C%E8%A5%BF%E4%BD%9C%E4%B8%BA%E6%9D%A1%E4%BB%B6%EF%BC%8C%E6%9F%A5%E8%AF%A2%E8%A1%A8%E4%B8%AD%E6%95%B0%E6%8D%AE%EF%BC%89evidence-finance-summary"><span class="toc-number">0.2.5.</span> <span class="toc-text">5、登记的时候发票代开接口（把几个东西作为条件，查询表中数据）evidence_finance_summary</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#6%E3%80%81%E5%8F%91%E7%A5%A8%E8%AF%A6%E6%83%85%E7%BC%BA%E5%B0%91%E5%AD%97%E6%AE%B5-%EF%BC%8C%E4%BE%9B%E8%B4%A7%E5%95%86%E5%AE%B6%EF%BC%8C%E9%A1%B9%E7%9B%AE%E5%90%8D%E7%A7%B0%EF%BC%8C%E4%BA%A7%E5%93%81%E5%90%8D%E7%A7%B0%EF%BC%8C%E7%A8%8E%E5%8F%B7%EF%BC%8C%E5%8D%95%E4%BD%8D%E5%9C%B0%E5%9D%80%E4%B8%80%E7%B1%BB%E5%AD%97%E6%AE%B5%E6%B2%A1%E6%9C%89%E8%BF%94%E5%9B%9E%EF%BC%88%E5%8D%95%E4%BD%8D%E5%9C%B0%E5%9D%80-%E5%8F%B7%E7%A0%81-%E5%BC%80%E6%88%B7%E9%93%B6%E8%A1%8C%E9%93%B6%E8%A1%8C%E8%B4%A6%E5%8F%B7%EF%BC%8C%E9%83%BD%E5%9C%A8invoice-title%E8%A1%A8%E9%87%8C%E9%9D%A2%EF%BC%89-v"><span class="toc-number">0.2.6.</span> <span class="toc-text">6、发票详情缺少字段 ，供货商家，项目名称，产品名称，税号，单位地址一类字段没有返回（单位地址 号码 开户银行银行账号，都在invoice_title表里面）   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#7%E3%80%81%E6%B2%A1%E6%9C%89%E4%BA%A7%E7%94%9F%E8%BF%87%E8%AE%B0%E5%BD%95%E7%9A%84%E5%8F%AF%E4%BB%A5%E5%88%A0%E9%99%A4%EF%BC%8C%E6%B2%A1%E6%9C%89%E4%BA%A7%E7%94%9F%E7%9A%84%E4%B8%8D%E5%8F%AF%E4%BB%A5%E5%88%A0%E9%99%A4%EF%BC%8C%E5%9C%A8%E5%8F%91%E7%A5%A8%E6%8A%AC%E5%A4%B4%E7%9A%84%E8%AF%A6%E6%83%85%E7%9A%84%E6%97%B6%E5%80%99%E7%BB%99%E8%BF%94%E5%9B%9E%E8%BF%99%E4%B8%AA%E5%AD%97%E6%AE%B5-v"><span class="toc-number">0.2.7.</span> <span class="toc-text">7、没有产生过记录的可以删除，没有产生的不可以删除，在发票抬头的详情的时候给返回这个字段   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#8%E3%80%81%E8%AE%A2%E5%8D%95%E5%88%97%E8%A1%A8%E6%95%B0%E6%8D%AE%E5%AF%B9%E4%B8%8D%E4%B8%8A%E5%8F%B7%EF%BC%8C%E5%8D%B8%E8%B4%A7%E5%88%97%E8%A1%A8%E6%9C%89%E6%95%B0%E6%8D%AE%EF%BC%8C%E4%BD%86%E6%98%AF%E8%AE%A2%E5%8D%95%E5%88%97%E8%A1%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%8D%B4%E6%98%AF%E7%A9%BA%E7%9A%84-v"><span class="toc-number">0.2.8.</span> <span class="toc-text">8、订单列表数据对不上号，卸货列表有数据，但是订单列表的数据却是空的     *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#9%E3%80%81%E7%BB%99%E5%8F%91%E7%A5%A8%E4%BB%A3%E5%BC%80%E9%87%91%E9%A2%9D%E5%86%99%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3-v"><span class="toc-number">0.2.9.</span> <span class="toc-text">9、给发票代开金额写一个接口文档   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#10%E3%80%81%E5%8F%91%E7%A5%A8%E7%99%BB%E8%AE%B0%E6%96%B0%E5%A2%9E%E4%B8%80%E4%B8%AA%E5%BC%80%E7%A5%A8%E6%97%B6%E9%97%B4-v"><span class="toc-number">0.2.10.</span> <span class="toc-text">10、发票登记新增一个开票时间   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#11%E3%80%81%E9%A1%B9%E7%9B%AE%E8%AF%A6%E6%83%85%E9%87%8C%E7%9A%84%E8%AE%A2%E5%8D%95%E5%88%97%E8%A1%A8%E5%92%8C%E5%8D%B8%E8%B4%A7%E5%88%97%E8%A1%A8%E9%9C%80%E8%A6%81%E6%8A%8A%E4%BB%8A%E6%97%A5%E5%92%8C%E8%BF%9B%E4%B8%89%E6%97%A5%E7%9A%84%E6%97%B6%E9%97%B4%E6%88%B3%E4%BC%A0%E8%BF%87%E6%9D%A5%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E8%87%AA%E5%B7%B1%E5%86%99%E6%AD%BB-v"><span class="toc-number">0.2.11.</span> <span class="toc-text">11、项目详情里的订单列表和卸货列表需要把今日和进三日的时间戳传过来，而不是自己写死   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#12%E3%80%81%E5%8F%91%E7%A5%A8%E7%B1%BB%E5%9E%8B%E5%A2%9E%E5%8A%A0%E5%88%A4%E6%96%AD%E9%80%BB%E8%BE%91-v"><span class="toc-number">0.2.12.</span> <span class="toc-text">12、发票类型增加判断逻辑    *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#13%E3%80%81-%E7%BD%AE%E5%AE%A1%E6%A0%B8%EF%BC%8C%E7%BD%AE%E5%8F%8D%E5%AE%A1-%EF%BC%88%E5%86%99%E5%A5%BD%E7%9A%84-%E6%8E%A5%E5%8F%A3%E9%9C%80%E8%A6%81%E6%B5%8B%E8%AF%95%EF%BC%89-v"><span class="toc-number">0.2.13.</span> <span class="toc-text">13、 置审核，置反审 （写好的 接口需要测试）  *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#14%E3%80%81%E5%8F%91%E7%A5%A8%E8%AF%A6%E6%83%85%EF%BC%8C%E5%92%8C%E5%88%97%E8%A1%A8%E9%9C%80%E8%A6%81%E6%96%B0%E5%A2%9E%E5%8A%A0%E8%BF%94%E5%9B%9E%E5%AD%97%E6%AE%B5-%E9%94%80%E9%A1%B9%E5%92%8C%E8%BF%9B%E9%A1%B9%E7%9A%84%E7%94%A8%E6%88%B7%E6%9C%BA%E6%9E%84%E5%92%8C%E7%94%A8%E6%88%B7id-v"><span class="toc-number">0.2.14.</span> <span class="toc-text">14、发票详情，和列表需要新增加返回字段 销项和进项的用户机构和用户id  *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#15%E3%80%81%E5%8F%91%E7%A5%A8%E6%80%BB%E9%87%91%E9%A2%9D-%E8%B4%B9%E7%94%A8%E6%80%BB%E9%87%91%E9%A2%9D%EF%BC%8C1v-2V-3-%E6%9F%A5%E8%AF%A2%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E9%9C%80%E8%A6%81%E5%9C%A8%E5%88%86%E9%A1%B5%E5%89%8D%E6%8B%BC%E4%B8%8A%E6%9F%A5%E8%AF%A2%E6%9D%A1%E4%BB%B6%EF%BC%8C%E7%84%B6%E5%90%8E%E8%AE%A1%E7%AE%97%E5%87%BA%E6%80%BB%E9%87%91%E9%A2%9D-n"><span class="toc-number">0.2.15.</span> <span class="toc-text">15、发票总金额,费用总金额，1v 2V 3 查询的时候，需要在分页前拼上查询条件，然后计算出总金额   *n*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#16%E3%80%81%E5%8F%91%E7%A5%A8%E8%AE%B0%E5%BD%95%EF%BC%8C%E6%9C%89%E4%B9%B0%E6%9C%89%E5%8D%96-v"><span class="toc-number">0.2.16.</span> <span class="toc-text">16、发票记录，有买有卖  *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#17%E3%80%81%E8%B4%B9%E7%94%A8%E8%AE%B0%E5%BD%95%E4%BF%AE%E6%94%B9%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8Cform%E5%AD%97%E6%AE%B5%E5%92%8Cxml%E5%AD%97%E6%AE%B5%E8%A6%81%E4%BF%9D%E6%8C%81%E4%B8%80%E8%87%B4-v"><span class="toc-number">0.2.17.</span> <span class="toc-text">17、费用记录修改的时候，form字段和xml字段要保持一致   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#18%E3%80%81%E5%8A%9E%E5%85%AC%E8%B4%B9%E7%94%A8%E5%AE%A1%E6%A0%B8%E6%8E%A5%E5%8F%A3%E5%AE%8C%E6%88%90%EF%BC%8C%E9%9C%80%E8%A6%81%E5%86%99%E4%B8%8A%E6%8E%A5%E5%8F%A3-v"><span class="toc-number">0.2.18.</span> <span class="toc-text">18、办公费用审核接口完成，需要写上接口   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#19%E3%80%81%E9%9C%80%E8%A6%81%E5%87%A0%E4%B8%AA%E4%BA%BA%E5%AE%A1%E6%A0%B8%E7%9A%84%E6%8E%A5%E5%8F%A3%EF%BC%8C%E5%87%BA%E4%B8%80%E4%B8%AA-v"><span class="toc-number">0.2.19.</span> <span class="toc-text">19、需要几个人审核的接口，出一个  *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#20%E3%80%81%E6%9F%A5%E8%AF%A2%E5%8F%91%E7%A5%A8%E6%8A%AC%E5%A4%B4%E5%88%97%E8%A1%A8%EF%BC%8C%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%90%9C%E7%B4%A2%E5%85%B3%E9%94%AE%E5%AD%97%EF%BC%8CsearchValue-%E5%8F%91%E7%A5%A8%E6%8A%AC%E5%A4%B4-%E7%A4%BE%E4%BC%9A%E4%BF%A1%E7%94%A8%E4%BB%A3%E7%A0%81-%E5%8D%95%E4%BD%8D%E5%9C%B0%E5%9D%80-%E7%94%B5%E8%AF%9D%E5%8F%B7%E7%A0%81-%E5%BC%80%E6%88%B7%E9%93%B6%E8%A1%8C%E5%90%8D%E7%A7%B0-%E9%93%B6%E8%A1%8C%E8%B4%A6%E5%8F%B7-%E5%88%9B%E5%BB%BA%E6%97%B6%E9%97%B4-%E5%A4%87%E6%B3%A8-v"><span class="toc-number">0.2.20.</span> <span class="toc-text">20、查询发票抬头列表，小程序搜索关键字，searchValue 发票抬头 社会信用代码 单位地址 电话号码 开户银行名称 银行账号 创建时间  备注   *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#21%E3%80%81%E5%8A%9E%E5%85%AC%E8%B4%B9%E7%94%A8%EF%BC%8C%E9%9C%80%E8%A6%81%E5%8A%A0%E4%B8%8A%E8%BF%94%E5%9B%9E%E5%AE%A1%E6%A0%B8%E4%BA%BA%E6%95%B0%E7%9A%84%E9%80%BB%E8%BE%91%EF%BC%8Cepio%E6%96%B0%E5%A2%9E%E7%AC%AC%E4%BA%8C%E7%AC%AC%E4%B8%89%E5%AE%A1%E6%A0%B8%E4%BA%BA-v"><span class="toc-number">0.2.21.</span> <span class="toc-text">21、办公费用，需要加上返回审核人数的逻辑，epio新增第二第三审核人    *v*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#22%E3%80%81%E6%8E%92%E6%9F%A5%E5%88%AA%E9%99%A4%E6%9B%B8%E5%AF%AB%E6%96%B9%E6%B3%95%E6%98%AF%E6%98%AF%E5%90%A6%E4%BD%BF%E7%94%A8%E4%BA%86%E5%88%9D%E5%A7%8B%E5%8C%96%E5%B0%8D%E8%B1%A1%E4%B9%8B%E5%BE%8C%E7%9A%84%E5%86%8D%E6%AC%A1%E6%9B%B4%E6%96%B0%E6%93%8D%E4%BD%9C%EF%BC%8C%E9%80%99%E5%80%8B%E6%9C%83%E8%AE%93%E9%BB%98%E8%AA%8D%E5%80%BC%E7%B5%A6%E9%87%8D%E7%BD%AE%E9%87%91%E9%A1%8D%E5%80%BC-n"><span class="toc-number">0.2.22.</span> <span class="toc-text">22、排查刪除書寫方法是是否使用了初始化對象之後的再次更新操作，這個會讓默認值給重置金額值    *n*</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8E%BB%E5%AE%A1%E6%A0%B8%E4%BA%BA%E7%9A%84%E5%80%BC%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E6%98%AF%E7%94%A8%E6%88%B7%E8%A1%A8%E7%9A%84%E7%94%A8%E6%88%B7%E7%9A%84nickname-BUG-1210-1244"><span class="toc-number">0.2.23.</span> <span class="toc-text">去审核人的值的时候，是用户表的用户的nickname   BUG 1210 1244</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%9A%84%E5%AE%A1%E6%A0%B8%E4%BA%BA%E6%98%AF%E5%90%A6%E6%98%AFuser%E8%A1%A8%E7%9A%84nickname-%E6%A3%80%E6%9F%A5"><span class="toc-number">0.2.24.</span> <span class="toc-text">使用的审核人是否是user表的nickname 检查</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E7%9F%A5%E9%83%A8%E5%88%86"><span class="toc-number">1.</span> <span class="toc-text">通知部分</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E8%AF%A6%E6%83%85%E5%8D%B8%E8%B4%A7%E4%BF%A1%E6%81%AF%E6%95%B0%E9%87%8F%E7%BB%9F%E8%AE%A1"><span class="toc-number">1.1.</span> <span class="toc-text">项目详情卸货信息数量统计</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%B8%E8%B4%A7%E4%BF%A1%E6%81%AF%E6%95%B0%E9%87%8F%E7%BB%9F%E8%AE%A1%E6%AF%94%E8%BE%83%E6%95%B0%E9%87%8F%E7%BB%9F%E8%AE%A1%E5%B0%91%E4%BA%86%E4%B8%80%E5%8D%8A"><span class="toc-number"></span> <span class="toc-text">卸货信息数量统计比较数量统计少了一半</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E9%87%8F%E7%BB%9F%E8%AE%A1%E5%8D%B8%E8%B4%A7%E5%88%97%E8%A1%A8"><span class="toc-number">0.1.</span> <span class="toc-text">数量统计卸货列表</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E5%8A%9F%E8%83%BD%E5%AF%B9%E7%85%A7%E8%A1%A8"><span class="toc-number"></span> <span class="toc-text">接口功能对照表</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%90%E8%BE%93%E5%85%AC%E5%8F%B8"><span class="toc-number">0.1.</span> <span class="toc-text">运输公司</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%B8%E6%9C%BA%E9%83%A8%E5%88%86"><span class="toc-number">0.2.</span> <span class="toc-text">司机部分</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A0%E5%A5%BD%E5%8F%8B%E9%83%A8%E5%88%86%E9%9C%80%E8%A6%81%E9%87%8D%E6%96%B0%E6%A0%B8%E5%AF%B9%E4%B8%8B%EF%BC%88%E5%9B%9B%E4%B8%AA%E7%AB%AF%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">加好友部分需要重新核对下（四个端）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98"><span class="toc-number"></span> <span class="toc-text">问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AE%E9%A2%98-1"><span class="toc-number"></span> <span class="toc-text">问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7-%E7%BB%99%E9%A1%B9%E7%9B%AE%E6%96%B0%E5%A2%9E%E4%BA%A7%E5%93%81%E7%9A%84%E6%97%B6%E5%80%99-%E5%93%81%E7%89%8C%E7%9A%84%E5%88%97%E5%87%BA%E6%95%88%E6%9E%9C"><span class="toc-number"></span> <span class="toc-text">客户 给项目新增产品的时候 品牌的列出效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8D%E7%A7%B0%E9%97%AE%E9%A2%98%E7%AC%94%E8%AE%B0"><span class="toc-number"></span> <span class="toc-text">名称问题笔记</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BUG"><span class="toc-number"></span> <span class="toc-text">BUG</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E5%8A%9E"><span class="toc-number"></span> <span class="toc-text">代办</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80"><span class="toc-number">0.1.</span> <span class="toc-text">地址</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF"><span class="toc-number">0.2.</span> <span class="toc-text">模板</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%A5%E4%BB%B7"><span class="toc-number">0.3.</span> <span class="toc-text">报价</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%A5%E4%BB%B7%E6%A8%A1%E6%9D%BF%E7%9B%B8%E5%85%B3%E6%8E%A5%E5%8F%A3%E4%BD%8D%E7%BD%AE"><span class="toc-number">0.4.</span> <span class="toc-text">报价模板相关接口位置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B0%E5%BB%BA%E7%94%B3%E8%AF%B7%E6%8E%A5%E5%8F%A3"><span class="toc-number">0.5.</span> <span class="toc-text">新建申请接口</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3"><span class="toc-number"></span> <span class="toc-text">接口</span></a>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://www.cnblogs.com/nanstar/posts/28239a8d/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://www.cnblogs.com/nanstar/posts/28239a8d/&text=面向对象"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://www.cnblogs.com/nanstar/posts/28239a8d/&title=面向对象"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://www.cnblogs.com/nanstar/posts/28239a8d/&is_video=false&description=面向对象"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=面向对象&body=Check out this article: https://www.cnblogs.com/nanstar/posts/28239a8d/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://www.cnblogs.com/nanstar/posts/28239a8d/&title=面向对象"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://www.cnblogs.com/nanstar/posts/28239a8d/&title=面向对象"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://www.cnblogs.com/nanstar/posts/28239a8d/&title=面向对象"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://www.cnblogs.com/nanstar/posts/28239a8d/&title=面向对象"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://www.cnblogs.com/nanstar/posts/28239a8d/&name=面向对象&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick='$("#toc-footer").toggle();return false;'><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick='$("#share-footer").toggle();return false;'><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick='$("#nav-footer").toggle();return false;'><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2021 MoDianBai
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/nanstar/">主页</a></li>
         
          <li><a href="/nanstar/about/">关于</a></li>
         
          <li><a href="/nanstar/archives/">文章</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://gitee.com/nanstar">项目</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->

<link rel="stylesheet" href="/nanstar/lib/font-awesome/css/font-awesome.min.css">


<link rel="stylesheet" href="/nanstar/lib/meslo-LG/styles.css">


<link rel="stylesheet" href="/nanstar/lib/justified-gallery/justifiedGallery.min.css">



<!-- jquery -->

<script src="/nanstar/lib/jquery/jquery.min.js"></script>


<script src="/nanstar/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>


<script src="/nanstar/js/main.js"></script>

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-86660611-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->


